2015-03-31 08:30:41 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-03-31 08:30:41 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Tue Mar 31 08:30:41 CST 2015]; root of context hierarchy
2015-03-31 08:30:41 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-03-31 08:30:42 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-03-31 08:30:42 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-03-31 08:30:42 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-03-31 08:30:42 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-03-31 08:30:42 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-03-31 08:30:43 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-03-31 08:30:43 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-03-31 08:30:43 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-03-31 08:30:43 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-03-31 08:30:43 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-03-31 08:30:43 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-03-31 08:31:04 WARN  JdbcServicesImpl:169 - HHH000342: Could not obtain connection to query metadata : Could not connect to 10.66.116.252:3306 : Connection timed out: connect
2015-03-31 08:31:04 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-03-31 08:31:04 INFO  LobCreatorBuilder:85 - HHH000422: Disabling contextual LOB creation as connection was null
2015-03-31 08:31:04 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-03-31 08:31:04 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-03-31 08:31:04 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-03-31 08:31:05 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-03-31 08:31:05 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-03-31 08:31:26 ERROR SchemaUpdate:201 - HHH000319: Could not get database metadata
java.sql.SQLNonTransientConnectionException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)
	at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)
	at org.mariadb.jdbc.Driver.connect(Driver.java:114)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)
	at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:194)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:178)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:480)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1740)
	at org.hibernate.ejb.EntityManagerFactoryImpl.<init>(EntityManagerFactoryImpl.java:88)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:904)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:889)
	at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:73)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:288)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1541)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1479)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:922)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.mariadb.jdbc.internal.common.QueryException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:677)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.<init>(MySQLProtocol.java:266)
	at org.mariadb.jdbc.Driver.connect(Driver.java:110)
	... 42 more
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:372)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:673)
	... 44 more
2015-03-31 08:31:26 ERROR SchemaUpdate:245 - HHH000299: Could not complete schema update
java.sql.SQLNonTransientConnectionException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)
	at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)
	at org.mariadb.jdbc.Driver.connect(Driver.java:114)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)
	at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:194)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:178)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:480)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1740)
	at org.hibernate.ejb.EntityManagerFactoryImpl.<init>(EntityManagerFactoryImpl.java:88)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:904)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:889)
	at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:73)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:288)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1541)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1479)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:922)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.mariadb.jdbc.internal.common.QueryException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:677)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.<init>(MySQLProtocol.java:266)
	at org.mariadb.jdbc.Driver.connect(Driver.java:110)
	... 42 more
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:372)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:673)
	... 44 more
2015-03-31 08:31:26 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@19cb0f1: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-03-31 08:31:26 INFO  InitService:40 - ================init===============
2015-03-31 08:31:26 INFO  InitService:40 - ================init===============
2015-03-31 08:31:48 WARN  SqlExceptionHelper:143 - SQL Error: -1, SQLState: 08
2015-03-31 08:31:48 ERROR SqlExceptionHelper:144 - Could not connect to 10.66.116.252:3306 : Connection timed out: connect
2015-03-31 08:31:48 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@19cb0f1: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-03-31 08:31:48 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-03-31 08:31:48 ERROR ContextLoader:319 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'initService': Invocation of init method failed; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:396)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1475)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:428)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:372)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:417)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:255)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
	at com.sun.proxy.$Proxy40.getRecordsWithUidNotNull(Unknown Source)
	at com.bigyellow.hm.service.InitService.upgradeDrinkRecord(InitService.java:46)
	at com.bigyellow.hm.service.InitService.init(InitService.java:41)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:344)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:295)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:130)
	... 24 more
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1360)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1288)
	at org.hibernate.ejb.AbstractEntityManagerImpl.throwPersistenceException(AbstractEntityManagerImpl.java:1370)
	at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:60)
	at org.springframework.orm.jpa.DefaultJpaDialect.beginTransaction(DefaultJpaDialect.java:71)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:61)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:378)
	... 40 more
Caused by: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:68)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110)
	at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304)
	at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169)
	at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:67)
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:160)
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1309)
	at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:57)
	... 43 more
Caused by: java.sql.SQLNonTransientConnectionException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)
	at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)
	at org.mariadb.jdbc.Driver.connect(Driver.java:114)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)
	at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)
	at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:277)
	at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297)
	... 48 more
Caused by: org.mariadb.jdbc.internal.common.QueryException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:677)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.<init>(MySQLProtocol.java:266)
	at org.mariadb.jdbc.Driver.connect(Driver.java:110)
	... 57 more
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:372)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:673)
	... 59 more
2015-03-31 08:38:50 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-03-31 08:38:50 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Tue Mar 31 08:38:50 CST 2015]; root of context hierarchy
2015-03-31 08:38:50 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-03-31 08:38:50 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-03-31 08:38:50 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-03-31 08:38:50 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-03-31 08:38:51 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-03-31 08:38:51 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-03-31 08:38:51 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-03-31 08:38:51 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-03-31 08:38:51 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-03-31 08:38:51 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-03-31 08:38:51 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-03-31 08:38:51 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-03-31 08:39:12 WARN  JdbcServicesImpl:169 - HHH000342: Could not obtain connection to query metadata : Could not connect to 10.66.116.252:3306 : Connection timed out: connect
2015-03-31 08:39:12 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2015-03-31 08:39:12 INFO  LobCreatorBuilder:85 - HHH000422: Disabling contextual LOB creation as connection was null
2015-03-31 08:39:12 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-03-31 08:39:12 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-03-31 08:39:12 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-03-31 08:39:13 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-03-31 08:39:13 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-03-31 08:39:34 ERROR SchemaUpdate:201 - HHH000319: Could not get database metadata
java.sql.SQLNonTransientConnectionException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)
	at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)
	at org.mariadb.jdbc.Driver.connect(Driver.java:114)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)
	at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:194)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:178)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:480)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1740)
	at org.hibernate.ejb.EntityManagerFactoryImpl.<init>(EntityManagerFactoryImpl.java:88)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:904)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:889)
	at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:73)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:288)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1541)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1479)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:922)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.mariadb.jdbc.internal.common.QueryException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:677)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.<init>(MySQLProtocol.java:266)
	at org.mariadb.jdbc.Driver.connect(Driver.java:110)
	... 42 more
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:372)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:673)
	... 44 more
2015-03-31 08:39:34 ERROR SchemaUpdate:245 - HHH000299: Could not complete schema update
java.sql.SQLNonTransientConnectionException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)
	at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)
	at org.mariadb.jdbc.Driver.connect(Driver.java:114)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)
	at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:194)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:178)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:480)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1740)
	at org.hibernate.ejb.EntityManagerFactoryImpl.<init>(EntityManagerFactoryImpl.java:88)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:904)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:889)
	at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:73)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:288)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1541)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1479)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:922)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.mariadb.jdbc.internal.common.QueryException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:677)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.<init>(MySQLProtocol.java:266)
	at org.mariadb.jdbc.Driver.connect(Driver.java:110)
	... 42 more
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:372)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:673)
	... 44 more
2015-03-31 08:39:34 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@cf75dc: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-03-31 08:39:34 INFO  InitService:40 - ================init===============
2015-03-31 08:39:34 INFO  InitService:40 - ================init===============
2015-03-31 08:39:55 WARN  SqlExceptionHelper:143 - SQL Error: -1, SQLState: 08
2015-03-31 08:39:55 ERROR SqlExceptionHelper:144 - Could not connect to 10.66.116.252:3306 : Connection timed out: connect
2015-03-31 08:39:55 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@cf75dc: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-03-31 08:39:55 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-03-31 08:39:55 ERROR ContextLoader:319 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'initService': Invocation of init method failed; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:396)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1475)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:428)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:372)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:417)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:255)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
	at com.sun.proxy.$Proxy41.getRecordsWithUidNotNull(Unknown Source)
	at com.bigyellow.hm.service.InitService.upgradeDrinkRecord(InitService.java:46)
	at com.bigyellow.hm.service.InitService.init(InitService.java:41)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:344)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:295)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:130)
	... 24 more
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1360)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1288)
	at org.hibernate.ejb.AbstractEntityManagerImpl.throwPersistenceException(AbstractEntityManagerImpl.java:1370)
	at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:60)
	at org.springframework.orm.jpa.DefaultJpaDialect.beginTransaction(DefaultJpaDialect.java:71)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:61)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:378)
	... 40 more
Caused by: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:68)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110)
	at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304)
	at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169)
	at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:67)
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:160)
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1309)
	at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:57)
	... 43 more
Caused by: java.sql.SQLNonTransientConnectionException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)
	at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)
	at org.mariadb.jdbc.Driver.connect(Driver.java:114)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)
	at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)
	at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:277)
	at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297)
	... 48 more
Caused by: org.mariadb.jdbc.internal.common.QueryException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:677)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.<init>(MySQLProtocol.java:266)
	at org.mariadb.jdbc.Driver.connect(Driver.java:110)
	... 57 more
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:372)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:673)
	... 59 more
2015-03-31 10:10:28 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-03-31 10:10:28 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Tue Mar 31 10:10:28 CST 2015]; root of context hierarchy
2015-03-31 10:10:28 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-03-31 10:10:28 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-03-31 10:10:28 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-03-31 10:10:29 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-03-31 10:10:29 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-03-31 10:10:29 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-03-31 10:10:30 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-03-31 10:10:30 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-03-31 10:10:30 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-03-31 10:10:30 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-03-31 10:10:30 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-03-31 10:10:31 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-03-31 10:10:52 WARN  JdbcServicesImpl:169 - HHH000342: Could not obtain connection to query metadata : Could not connect to 10.66.116.252:3306 : Connection timed out: connect
2015-03-31 10:10:52 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2015-03-31 10:10:53 INFO  LobCreatorBuilder:85 - HHH000422: Disabling contextual LOB creation as connection was null
2015-03-31 10:10:53 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-03-31 10:10:53 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-03-31 10:10:53 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-03-31 10:10:54 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-03-31 10:10:54 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-03-31 10:11:15 ERROR SchemaUpdate:201 - HHH000319: Could not get database metadata
java.sql.SQLNonTransientConnectionException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)
	at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)
	at org.mariadb.jdbc.Driver.connect(Driver.java:114)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)
	at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:194)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:178)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:480)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1740)
	at org.hibernate.ejb.EntityManagerFactoryImpl.<init>(EntityManagerFactoryImpl.java:88)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:904)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:889)
	at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:73)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:288)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1541)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1479)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:922)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.mariadb.jdbc.internal.common.QueryException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:677)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.<init>(MySQLProtocol.java:266)
	at org.mariadb.jdbc.Driver.connect(Driver.java:110)
	... 42 more
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:372)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:673)
	... 44 more
2015-03-31 10:11:15 ERROR SchemaUpdate:245 - HHH000299: Could not complete schema update
java.sql.SQLNonTransientConnectionException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)
	at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)
	at org.mariadb.jdbc.Driver.connect(Driver.java:114)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)
	at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:194)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:178)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:480)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1740)
	at org.hibernate.ejb.EntityManagerFactoryImpl.<init>(EntityManagerFactoryImpl.java:88)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:904)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:889)
	at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:73)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:288)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1541)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1479)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:922)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.mariadb.jdbc.internal.common.QueryException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:677)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.<init>(MySQLProtocol.java:266)
	at org.mariadb.jdbc.Driver.connect(Driver.java:110)
	... 42 more
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:372)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:673)
	... 44 more
2015-03-31 10:11:15 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1bcb230: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-03-31 10:11:15 INFO  InitService:40 - ================init===============
2015-03-31 10:11:15 INFO  InitService:40 - ================init===============
2015-03-31 10:11:37 WARN  SqlExceptionHelper:143 - SQL Error: -1, SQLState: 08
2015-03-31 10:11:37 ERROR SqlExceptionHelper:144 - Could not connect to 10.66.116.252:3306 : Connection timed out: connect
2015-03-31 10:11:37 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1bcb230: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-03-31 10:11:37 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-03-31 10:11:37 ERROR ContextLoader:319 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'initService': Invocation of init method failed; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:396)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1475)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:428)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:372)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:417)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:255)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
	at com.sun.proxy.$Proxy41.getRecordsWithUidNotNull(Unknown Source)
	at com.bigyellow.hm.service.InitService.upgradeDrinkRecord(InitService.java:46)
	at com.bigyellow.hm.service.InitService.init(InitService.java:41)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:344)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:295)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:130)
	... 24 more
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1360)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1288)
	at org.hibernate.ejb.AbstractEntityManagerImpl.throwPersistenceException(AbstractEntityManagerImpl.java:1370)
	at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:60)
	at org.springframework.orm.jpa.DefaultJpaDialect.beginTransaction(DefaultJpaDialect.java:71)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:61)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:378)
	... 40 more
Caused by: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:68)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110)
	at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304)
	at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169)
	at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:67)
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:160)
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1309)
	at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:57)
	... 43 more
Caused by: java.sql.SQLNonTransientConnectionException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)
	at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)
	at org.mariadb.jdbc.Driver.connect(Driver.java:114)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)
	at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)
	at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:277)
	at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297)
	... 48 more
Caused by: org.mariadb.jdbc.internal.common.QueryException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:677)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.<init>(MySQLProtocol.java:266)
	at org.mariadb.jdbc.Driver.connect(Driver.java:110)
	... 57 more
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:372)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:673)
	... 59 more
2015-03-31 12:06:39 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-03-31 12:06:39 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Tue Mar 31 12:06:39 CST 2015]; root of context hierarchy
2015-03-31 12:06:39 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-03-31 12:06:40 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-03-31 12:06:40 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-03-31 12:06:40 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-03-31 12:06:40 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-03-31 12:06:40 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-03-31 12:06:41 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-03-31 12:06:41 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-03-31 12:06:41 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-03-31 12:06:41 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-03-31 12:06:42 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-03-31 12:06:42 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-03-31 12:07:04 WARN  JdbcServicesImpl:169 - HHH000342: Could not obtain connection to query metadata : Could not connect to 10.66.116.252:3306 : Connection timed out: connect
2015-03-31 12:07:04 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2015-03-31 12:07:04 INFO  LobCreatorBuilder:85 - HHH000422: Disabling contextual LOB creation as connection was null
2015-03-31 12:07:04 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-03-31 12:07:04 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-03-31 12:07:04 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-03-31 12:07:06 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-03-31 12:07:06 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-03-31 12:07:27 ERROR SchemaUpdate:201 - HHH000319: Could not get database metadata
java.sql.SQLNonTransientConnectionException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)
	at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)
	at org.mariadb.jdbc.Driver.connect(Driver.java:114)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)
	at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:194)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:178)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:480)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1740)
	at org.hibernate.ejb.EntityManagerFactoryImpl.<init>(EntityManagerFactoryImpl.java:88)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:904)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:889)
	at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:73)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:288)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1541)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1479)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:922)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.mariadb.jdbc.internal.common.QueryException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:677)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.<init>(MySQLProtocol.java:266)
	at org.mariadb.jdbc.Driver.connect(Driver.java:110)
	... 42 more
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:372)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:673)
	... 44 more
2015-03-31 12:07:27 ERROR SchemaUpdate:245 - HHH000299: Could not complete schema update
java.sql.SQLNonTransientConnectionException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)
	at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)
	at org.mariadb.jdbc.Driver.connect(Driver.java:114)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)
	at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:194)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:178)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:480)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1740)
	at org.hibernate.ejb.EntityManagerFactoryImpl.<init>(EntityManagerFactoryImpl.java:88)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:904)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:889)
	at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:73)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:288)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1541)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1479)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:922)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.mariadb.jdbc.internal.common.QueryException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:677)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.<init>(MySQLProtocol.java:266)
	at org.mariadb.jdbc.Driver.connect(Driver.java:110)
	... 42 more
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:372)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:673)
	... 44 more
2015-03-31 12:07:28 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1bbf45e: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-03-31 12:07:28 INFO  InitService:40 - ================init===============
2015-03-31 12:07:28 INFO  InitService:40 - ================init===============
2015-03-31 12:07:50 WARN  SqlExceptionHelper:143 - SQL Error: -1, SQLState: 08
2015-03-31 12:07:50 ERROR SqlExceptionHelper:144 - Could not connect to 10.66.116.252:3306 : Connection timed out: connect
2015-03-31 12:07:50 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1bbf45e: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-03-31 12:07:50 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-03-31 12:07:50 ERROR ContextLoader:319 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'initService': Invocation of init method failed; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:396)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1475)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:428)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:372)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:417)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:255)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
	at com.sun.proxy.$Proxy40.getRecordsWithUidNotNull(Unknown Source)
	at com.bigyellow.hm.service.InitService.upgradeDrinkRecord(InitService.java:46)
	at com.bigyellow.hm.service.InitService.init(InitService.java:41)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:344)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:295)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:130)
	... 24 more
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1360)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1288)
	at org.hibernate.ejb.AbstractEntityManagerImpl.throwPersistenceException(AbstractEntityManagerImpl.java:1370)
	at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:60)
	at org.springframework.orm.jpa.DefaultJpaDialect.beginTransaction(DefaultJpaDialect.java:71)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:61)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:378)
	... 40 more
Caused by: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:68)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110)
	at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304)
	at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169)
	at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:67)
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:160)
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1309)
	at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:57)
	... 43 more
Caused by: java.sql.SQLNonTransientConnectionException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)
	at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)
	at org.mariadb.jdbc.Driver.connect(Driver.java:114)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)
	at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)
	at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:277)
	at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297)
	... 48 more
Caused by: org.mariadb.jdbc.internal.common.QueryException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:677)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.<init>(MySQLProtocol.java:266)
	at org.mariadb.jdbc.Driver.connect(Driver.java:110)
	... 57 more
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:372)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:673)
	... 59 more
2015-04-01 15:19:37 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-01 15:19:37 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Wed Apr 01 15:19:37 CST 2015]; root of context hierarchy
2015-04-01 15:19:37 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-01 15:19:38 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-01 15:19:38 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-01 15:19:38 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-01 15:19:38 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-01 15:19:38 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-01 15:19:39 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-01 15:19:39 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-01 15:19:39 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-01 15:19:39 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-01 15:19:39 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-01 15:19:39 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-01 15:20:00 WARN  JdbcServicesImpl:169 - HHH000342: Could not obtain connection to query metadata : Could not connect to 10.66.116.252:3306 : Connection timed out: connect
2015-04-01 15:20:00 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2015-04-01 15:20:01 INFO  LobCreatorBuilder:85 - HHH000422: Disabling contextual LOB creation as connection was null
2015-04-01 15:20:01 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-01 15:20:01 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-01 15:20:01 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-01 15:20:01 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-01 15:20:01 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-01 15:20:22 ERROR SchemaUpdate:201 - HHH000319: Could not get database metadata
java.sql.SQLNonTransientConnectionException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)
	at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)
	at org.mariadb.jdbc.Driver.connect(Driver.java:114)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)
	at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:194)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:178)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:480)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1740)
	at org.hibernate.ejb.EntityManagerFactoryImpl.<init>(EntityManagerFactoryImpl.java:88)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:904)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:889)
	at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:73)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:288)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1541)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1479)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:922)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.mariadb.jdbc.internal.common.QueryException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:677)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.<init>(MySQLProtocol.java:266)
	at org.mariadb.jdbc.Driver.connect(Driver.java:110)
	... 42 more
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:372)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:673)
	... 44 more
2015-04-01 15:20:22 ERROR SchemaUpdate:245 - HHH000299: Could not complete schema update
java.sql.SQLNonTransientConnectionException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)
	at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)
	at org.mariadb.jdbc.Driver.connect(Driver.java:114)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)
	at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)
	at org.hibernate.tool.hbm2ddl.SuppliedConnectionProviderConnectionHelper.prepare(SuppliedConnectionProviderConnectionHelper.java:51)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:194)
	at org.hibernate.tool.hbm2ddl.SchemaUpdate.execute(SchemaUpdate.java:178)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:480)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1740)
	at org.hibernate.ejb.EntityManagerFactoryImpl.<init>(EntityManagerFactoryImpl.java:88)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:904)
	at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:889)
	at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:73)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:288)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1541)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1479)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:922)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.mariadb.jdbc.internal.common.QueryException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:677)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.<init>(MySQLProtocol.java:266)
	at org.mariadb.jdbc.Driver.connect(Driver.java:110)
	... 42 more
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:372)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:673)
	... 44 more
2015-04-01 15:20:22 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@37a770: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-01 15:20:23 INFO  InitService:40 - ================init===============
2015-04-01 15:20:23 INFO  InitService:40 - ================init===============
2015-04-01 15:20:44 WARN  SqlExceptionHelper:143 - SQL Error: -1, SQLState: 08
2015-04-01 15:20:44 ERROR SqlExceptionHelper:144 - Could not connect to 10.66.116.252:3306 : Connection timed out: connect
2015-04-01 15:20:44 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@37a770: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-01 15:20:44 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-01 15:20:44 ERROR ContextLoader:319 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'initService': Invocation of init method failed; nested exception is org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:396)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1475)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:428)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:372)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:417)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:255)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
	at com.sun.proxy.$Proxy41.getRecordsWithUidNotNull(Unknown Source)
	at com.bigyellow.hm.service.InitService.upgradeDrinkRecord(InitService.java:46)
	at com.bigyellow.hm.service.InitService.init(InitService.java:41)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:344)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:295)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:130)
	... 24 more
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1360)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1288)
	at org.hibernate.ejb.AbstractEntityManagerImpl.throwPersistenceException(AbstractEntityManagerImpl.java:1370)
	at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:60)
	at org.springframework.orm.jpa.DefaultJpaDialect.beginTransaction(DefaultJpaDialect.java:71)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:61)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:378)
	... 40 more
Caused by: org.hibernate.exception.JDBCConnectionException: Could not open connection
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:68)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110)
	at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304)
	at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169)
	at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:67)
	at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:160)
	at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1309)
	at org.hibernate.ejb.TransactionImpl.begin(TransactionImpl.java:57)
	... 43 more
Caused by: java.sql.SQLNonTransientConnectionException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.SQLExceptionMapper.get(SQLExceptionMapper.java:136)
	at org.mariadb.jdbc.internal.SQLExceptionMapper.throwException(SQLExceptionMapper.java:106)
	at org.mariadb.jdbc.Driver.connect(Driver.java:114)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:173)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:164)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:153)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:119)
	at org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider.getConnection(InjectedDataSourceConnectionProvider.java:67)
	at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:277)
	at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297)
	... 48 more
Caused by: org.mariadb.jdbc.internal.common.QueryException: Could not connect to 10.66.116.252:3306 : Connection timed out: connect
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:677)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.<init>(MySQLProtocol.java:266)
	at org.mariadb.jdbc.Driver.connect(Driver.java:110)
	... 57 more
Caused by: java.net.ConnectException: Connection timed out: connect
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
	at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
	at java.net.Socket.connect(Socket.java:529)
	at java.net.Socket.connect(Socket.java:478)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:372)
	at org.mariadb.jdbc.internal.mysql.MySQLProtocol.connect(MySQLProtocol.java:673)
	... 59 more
2015-04-01 15:38:16 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-01 15:38:17 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Wed Apr 01 15:38:17 CST 2015]; root of context hierarchy
2015-04-01 15:38:17 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-01 15:38:17 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-01 15:38:17 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-01 15:38:18 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-01 15:38:18 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2015-04-01 15:38:18 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-01 15:38:18 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-01 15:38:18 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-01 15:38:18 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-01 15:38:18 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-01 15:38:18 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-01 15:38:19 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-01 15:38:19 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2015-04-01 15:38:19 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-01 15:38:19 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-01 15:38:20 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-01 15:38:20 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-01 15:38:20 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-01 15:38:20 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-01 15:38:20 INFO  DatabaseMetaData:120 - HHH000262: Table not found: DrinkRecord
2015-04-01 15:38:20 INFO  DatabaseMetaData:120 - HHH000262: Table not found: EatRecord
2015-04-01 15:38:20 INFO  DatabaseMetaData:120 - HHH000262: Table not found: WeixinUser
2015-04-01 15:38:20 INFO  DatabaseMetaData:120 - HHH000262: Table not found: DrinkRecord
2015-04-01 15:38:20 INFO  DatabaseMetaData:120 - HHH000262: Table not found: EatRecord
2015-04-01 15:38:20 INFO  DatabaseMetaData:120 - HHH000262: Table not found: WeixinUser
2015-04-01 15:38:20 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-01 15:38:20 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@c6948c: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-01 15:38:20 INFO  InitService:40 - ================init===============
2015-04-01 15:38:20 INFO  InitService:40 - ================init===============
2015-04-01 15:38:21 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 4146 ms
2015-04-01 15:38:22 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-01 15:38:22 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Wed Apr 01 15:38:22 CST 2015]; parent: Root WebApplicationContext
2015-04-01 15:38:22 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-01 15:38:22 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-01 15:38:22 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-01 15:38:22 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-01 15:38:22 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@bd6a19: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@c6948c
2015-04-01 15:38:22 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-01 15:38:22 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-01 15:38:22 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-01 15:38:22 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-01 15:38:22 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-01 15:38:22 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-01 15:38:22 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-01 15:38:22 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-01 15:38:22 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-01 15:38:22 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-01 15:38:22 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-01 15:38:22 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-01 15:38:23 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-01 15:38:23 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-01 15:38:23 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 1053 ms
2015-04-01 16:54:33 INFO  controller:70 - ----openid : null,nickname:null
2015-04-01 16:54:33 INFO  WeixinUserDaoImpl:32 - get weixin user by id:null , 0
2015-04-01 16:54:33 INFO  WeixinUserDaoImpl:32 - get weixin user by id:null , 0
2015-04-01 16:54:33 INFO  controller:74 - isFirstTimeUser : true
2015-04-01 16:55:49 WARN  PageNotFound:1108 - No mapping found for HTTP request with URI [//healthmanager/web/history/{openID}/{page}] in DispatcherServlet with name 'spring'
2015-04-01 16:55:56 WARN  PageNotFound:1108 - No mapping found for HTTP request with URI [//healthmanager/web/history/111222] in DispatcherServlet with name 'spring'
2015-04-01 16:56:15 WARN  PageNotFound:1108 - No mapping found for HTTP request with URI [//healthmanager/web/drinkrecord/history/111222] in DispatcherServlet with name 'spring'
2015-04-01 16:56:55 WARN  PageNotFound:1108 - No mapping found for HTTP request with URI [//healthmanager/web/drinkrecord/history/test1234] in DispatcherServlet with name 'spring'
2015-04-01 16:57:03 WARN  PageNotFound:1108 - No mapping found for HTTP request with URI [/healthmanager/web/drinkrecord/history/test1234] in DispatcherServlet with name 'spring'
2015-04-01 16:57:31 WARN  PageNotFound:1108 - No mapping found for HTTP request with URI [/healthmanager/web/drinkrecord/today/test1234] in DispatcherServlet with name 'spring'
2015-04-01 16:57:44 WARN  PageNotFound:1108 - No mapping found for HTTP request with URI [/healthmanager/web/drinkrecord/history/test1234] in DispatcherServlet with name 'spring'
2015-04-01 17:01:38 INFO  controller:70 - ----openid : null,nickname:null
2015-04-01 17:01:38 INFO  WeixinUserDaoImpl:32 - get weixin user by id:null , 0
2015-04-01 17:01:38 INFO  WeixinUserDaoImpl:32 - get weixin user by id:null , 0
2015-04-01 17:01:38 INFO  controller:74 - isFirstTimeUser : true
2015-04-02 08:24:57 INFO  DrinkRecordResource:99 - get history for openID: test1234,page : 1,date: 0
2015-04-02 08:24:57 INFO  DrinkRecordResource:99 - get history for openID: test1234,page : 1,date: 0
2015-04-02 08:24:59 INFO  DrinkRecordDaoImpl:78 - openID:test1234,2015-04-02
2015-04-02 08:24:59 INFO  DrinkRecordDaoImpl:78 - openID:test1234,2015-04-02
2015-04-02 08:24:59 INFO  DrinkRecordDaoImpl:79 - getHistoryList:0
2015-04-02 08:24:59 INFO  DrinkRecordDaoImpl:79 - getHistoryList:0
2015-04-02 08:24:59 INFO  DrinkRecordResource:108 - get history record size : 0
2015-04-02 08:24:59 INFO  DrinkRecordResource:108 - get history record size : 0
2015-04-02 12:36:07 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 12:36:08 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 12:36:08 CST 2015]; root of context hierarchy
2015-04-02 12:36:08 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 12:36:09 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 12:36:09 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 12:36:09 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 12:36:10 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2015-04-02 12:36:10 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 12:36:11 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 12:36:12 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 12:36:12 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 12:36:12 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 12:36:12 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 12:36:14 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 12:36:15 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2015-04-02 12:36:15 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 12:36:15 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 12:36:16 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 12:36:18 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 12:36:18 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 12:36:18 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 12:36:18 INFO  DatabaseMetaData:120 - HHH000262: Table not found: DrinkRecord
2015-04-02 12:36:18 INFO  DatabaseMetaData:120 - HHH000262: Table not found: EatRecord
2015-04-02 12:36:18 INFO  DatabaseMetaData:120 - HHH000262: Table not found: WeixinUser
2015-04-02 12:36:18 INFO  DatabaseMetaData:120 - HHH000262: Table not found: DrinkRecord
2015-04-02 12:36:18 INFO  DatabaseMetaData:120 - HHH000262: Table not found: EatRecord
2015-04-02 12:36:18 INFO  DatabaseMetaData:120 - HHH000262: Table not found: WeixinUser
2015-04-02 12:36:18 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 12:36:18 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1ec68e9: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 12:36:18 INFO  InitService:40 - ================init===============
2015-04-02 12:36:18 INFO  InitService:40 - ================init===============
2015-04-02 12:36:20 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 12124 ms
2015-04-02 12:36:21 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 12:36:21 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 12:36:21 CST 2015]; parent: Root WebApplicationContext
2015-04-02 12:36:21 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 12:36:21 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 12:36:21 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 12:36:21 ERROR DispatcherServlet:467 - Context initialization failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [E:\SkyDrive\Workspace\water8cups\target\classes\com\bigyellow\hm\web\LayoutController.class]; nested exception is java.io.FileNotFoundException: E:\SkyDrive\Workspace\water8cups\target\classes\com\bigyellow\hm\web\LayoutController.class ()
	at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:290)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:242)
	at org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:84)
	at org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:73)
	at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1438)
	at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1428)
	at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:185)
	at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:139)
	at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:108)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:493)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)
	at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)
	at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)
	at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)
	at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:537)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:451)
	at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:651)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:599)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:665)
	at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:518)
	at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:459)
	at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)
	at javax.servlet.GenericServlet.init(GenericServlet.java:160)
	at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1266)
	at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1185)
	at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1080)
	at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5027)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5314)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.io.FileNotFoundException: E:\SkyDrive\Workspace\water8cups\target\classes\com\bigyellow\hm\web\LayoutController.class ()
	at java.io.FileInputStream.open(Native Method)
	at java.io.FileInputStream.<init>(FileInputStream.java:120)
	at org.springframework.core.io.FileSystemResource.getInputStream(FileSystemResource.java:113)
	at org.springframework.core.type.classreading.SimpleMetadataReader.<init>(SimpleMetadataReader.java:50)
	at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:80)
	at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:102)
	at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:266)
	... 40 more
2015-04-02 13:03:17 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 13:03:17 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 13:03:17 CST 2015]; root of context hierarchy
2015-04-02 13:03:17 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 13:03:18 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 13:03:18 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 13:03:19 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 13:03:19 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2015-04-02 13:03:19 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 13:03:19 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 13:03:19 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 13:03:19 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 13:03:19 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 13:03:20 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 13:03:21 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 13:03:22 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 13:03:22 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 13:03:23 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 13:03:23 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 13:03:24 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 13:03:24 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 13:03:24 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 13:03:24 INFO  DatabaseMetaData:120 - HHH000262: Table not found: DrinkRecord
2015-04-02 13:03:24 INFO  DatabaseMetaData:120 - HHH000262: Table not found: EatRecord
2015-04-02 13:03:24 INFO  DatabaseMetaData:120 - HHH000262: Table not found: WeixinUser
2015-04-02 13:03:24 INFO  DatabaseMetaData:120 - HHH000262: Table not found: DrinkRecord
2015-04-02 13:03:24 INFO  DatabaseMetaData:120 - HHH000262: Table not found: EatRecord
2015-04-02 13:03:24 INFO  DatabaseMetaData:120 - HHH000262: Table not found: WeixinUser
2015-04-02 13:03:24 ERROR SchemaUpdate:235 - HHH000388: Unsuccessful: create table DrinkRecord (id bigint not null auto_increment, cupNumber integer not null, nickName varchar(255), openID varchar(255), recordTime datetime, starLevel integer not null, time date, total integer not null, uid varchar(255), primary key (id))
2015-04-02 13:03:24 ERROR SchemaUpdate:236 - unexpected token: AUTO_INCREMENT
2015-04-02 13:03:24 ERROR SchemaUpdate:235 - HHH000388: Unsuccessful: create table EatRecord (id bigint not null auto_increment, beanProduct boolean not null, egg boolean not null, fruit boolean not null, milk boolean not null, nickName varchar(255), openID varchar(255), recordTime datetime, starLevel integer not null, time date, uid varchar(255), vegetable boolean not null, primary key (id))
2015-04-02 13:03:24 ERROR SchemaUpdate:236 - unexpected token: AUTO_INCREMENT
2015-04-02 13:03:24 ERROR SchemaUpdate:235 - HHH000388: Unsuccessful: create table WeixinUser (id bigint not null auto_increment, nickname varchar(255), openID varchar(255), primary key (id))
2015-04-02 13:03:24 ERROR SchemaUpdate:236 - unexpected token: AUTO_INCREMENT
2015-04-02 13:03:24 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 13:03:24 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@907aee: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 13:03:25 INFO  InitService:40 - ================init===============
2015-04-02 13:03:25 INFO  InitService:40 - ================init===============
2015-04-02 13:03:25 WARN  SqlExceptionHelper:143 - SQL Error: -5501, SQLState: 42501
2015-04-02 13:03:25 ERROR SqlExceptionHelper:144 - user lacks privilege or object not found: DRINKRECORD
2015-04-02 13:03:25 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@907aee: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 13:03:25 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 13:03:25 ERROR ContextLoader:319 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'initService': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: user lacks privilege or object not found: DRINKRECORD
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:133)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:396)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1475)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:626)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: user lacks privilege or object not found: DRINKRECORD
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1360)
	at org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1288)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:261)
	at com.bigyellow.hm.dao.DrinkRecordDaoImpl.getRecordsWithUidNotNull(DrinkRecordDaoImpl.java:123)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:96)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:260)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)
	at com.sun.proxy.$Proxy41.getRecordsWithUidNotNull(Unknown Source)
	at com.bigyellow.hm.service.InitService.upgradeDrinkRecord(InitService.java:46)
	at com.bigyellow.hm.service.InitService.init(InitService.java:41)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:344)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:295)
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:130)
	... 24 more
Caused by: org.hibernate.exception.SQLGrammarException: user lacks privilege or object not found: DRINKRECORD
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:83)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110)
	at org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.continueInvocation(ConnectionProxyHandler.java:146)
	at org.hibernate.engine.jdbc.internal.proxy.AbstractProxyHandler.invoke(AbstractProxyHandler.java:81)
	at com.sun.proxy.$Proxy46.prepareStatement(Unknown Source)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:147)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:166)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:145)
	at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1720)
	at org.hibernate.loader.Loader.doQuery(Loader.java:828)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:289)
	at org.hibernate.loader.Loader.doList(Loader.java:2447)
	at org.hibernate.loader.Loader.doList(Loader.java:2433)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2263)
	at org.hibernate.loader.Loader.list(Loader.java:2258)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:470)
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:355)
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:196)
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1161)
	at org.hibernate.internal.QueryImpl.list(QueryImpl.java:101)
	at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:252)
	... 47 more
Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: DRINKRECORD
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCPreparedStatement.<init>(Unknown Source)
	at org.hsqldb.jdbc.JDBCConnection.prepareStatement(Unknown Source)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.hibernate.engine.jdbc.internal.proxy.ConnectionProxyHandler.continueInvocation(ConnectionProxyHandler.java:138)
	... 65 more
Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: DRINKRECORD
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.SchemaManager.getTable(Unknown Source)
	at org.hsqldb.ParserDQL.readTableName(Unknown Source)
	at org.hsqldb.ParserDQL.readTableOrSubquery(Unknown Source)
	at org.hsqldb.ParserDQL.XreadTableReference(Unknown Source)
	at org.hsqldb.ParserDQL.XreadFromClause(Unknown Source)
	at org.hsqldb.ParserDQL.XreadTableExpression(Unknown Source)
	at org.hsqldb.ParserDQL.XreadQuerySpecification(Unknown Source)
	at org.hsqldb.ParserDQL.XreadSimpleTable(Unknown Source)
	at org.hsqldb.ParserDQL.XreadQueryPrimary(Unknown Source)
	at org.hsqldb.ParserDQL.XreadQueryTerm(Unknown Source)
	at org.hsqldb.ParserDQL.XreadQueryExpressionBody(Unknown Source)
	at org.hsqldb.ParserDQL.XreadQueryExpression(Unknown Source)
	at org.hsqldb.ParserDQL.compileCursorSpecification(Unknown Source)
	at org.hsqldb.ParserCommand.compilePart(Unknown Source)
	at org.hsqldb.ParserCommand.compileStatement(Unknown Source)
	at org.hsqldb.Session.compileStatement(Unknown Source)
	at org.hsqldb.StatementManager.compile(Unknown Source)
	at org.hsqldb.Session.execute(Unknown Source)
	... 72 more
2015-04-02 13:05:32 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 13:05:32 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 13:05:32 CST 2015]; root of context hierarchy
2015-04-02 13:05:32 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 13:05:32 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 13:05:32 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 13:05:32 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 13:05:32 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@e136be: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 13:05:32 ERROR ContextLoader:319 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Cannot resolve reference to bean 'dataSource' while setting bean property 'dataSource'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'javax.persistence.jdbc.driver' of bean class [org.springframework.jdbc.datasource.DriverManagerDataSource]: Nested property in path 'javax.persistence.jdbc.driver' does not exist; nested exception is org.springframework.beans.NotReadablePropertyException: Invalid property 'javax' of bean class [org.springframework.jdbc.datasource.DriverManagerDataSource]: Bean property 'javax' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:329)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:107)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1387)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1128)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1117)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:922)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in ServletContext resource [/WEB-INF/applicationContext.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'javax.persistence.jdbc.driver' of bean class [org.springframework.jdbc.datasource.DriverManagerDataSource]: Nested property in path 'javax.persistence.jdbc.driver' does not exist; nested exception is org.springframework.beans.NotReadablePropertyException: Invalid property 'javax' of bean class [org.springframework.jdbc.datasource.DriverManagerDataSource]: Bean property 'javax' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1423)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1128)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:323)
	... 25 more
Caused by: org.springframework.beans.NotWritablePropertyException: Invalid property 'javax.persistence.jdbc.driver' of bean class [org.springframework.jdbc.datasource.DriverManagerDataSource]: Nested property in path 'javax.persistence.jdbc.driver' does not exist; nested exception is org.springframework.beans.NotReadablePropertyException: Invalid property 'javax' of bean class [org.springframework.jdbc.datasource.DriverManagerDataSource]: Bean property 'javax' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?
	at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:895)
	at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:75)
	at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:57)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1420)
	... 33 more
Caused by: org.springframework.beans.NotReadablePropertyException: Invalid property 'javax' of bean class [org.springframework.jdbc.datasource.DriverManagerDataSource]: Bean property 'javax' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?
	at org.springframework.beans.BeanWrapperImpl.getPropertyValue(BeanWrapperImpl.java:707)
	at org.springframework.beans.BeanWrapperImpl.getNestedBeanWrapper(BeanWrapperImpl.java:554)
	at org.springframework.beans.BeanWrapperImpl.getBeanWrapperForPropertyPath(BeanWrapperImpl.java:531)
	at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:892)
	... 36 more
2015-04-02 13:12:00 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 13:12:00 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 13:12:00 CST 2015]; root of context hierarchy
2015-04-02 13:12:00 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 13:12:00 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 13:12:00 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 13:12:01 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 13:12:01 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 13:12:01 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 13:12:03 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 13:12:03 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 13:12:03 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 13:12:03 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 13:12:03 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 13:12:03 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 13:12:03 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 13:12:03 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 13:12:03 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 13:12:04 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 13:12:05 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 13:12:05 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 13:12:05 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 13:12:05 INFO  DatabaseMetaData:120 - HHH000262: Table not found: DrinkRecord
2015-04-02 13:12:05 INFO  DatabaseMetaData:120 - HHH000262: Table not found: EatRecord
2015-04-02 13:12:05 INFO  DatabaseMetaData:120 - HHH000262: Table not found: WeixinUser
2015-04-02 13:12:05 INFO  DatabaseMetaData:120 - HHH000262: Table not found: DrinkRecord
2015-04-02 13:12:05 INFO  DatabaseMetaData:120 - HHH000262: Table not found: EatRecord
2015-04-02 13:12:05 INFO  DatabaseMetaData:120 - HHH000262: Table not found: WeixinUser
2015-04-02 13:12:05 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 13:12:06 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@a85692: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 13:12:06 INFO  InitService:40 - ================init===============
2015-04-02 13:12:06 INFO  InitService:40 - ================init===============
2015-04-02 13:12:07 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 7205 ms
2015-04-02 13:12:09 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 13:12:09 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 13:12:09 CST 2015]; parent: Root WebApplicationContext
2015-04-02 13:12:09 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 13:12:09 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 13:12:09 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 13:12:09 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 13:12:09 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@48d0ea: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@a85692
2015-04-02 13:12:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 13:12:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 13:12:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 13:12:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 13:12:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 13:12:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 13:12:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 13:12:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 13:12:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 13:12:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 13:12:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 13:12:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 13:12:10 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 13:12:10 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 13:12:10 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 1178 ms
2015-04-02 20:02:58 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 20:02:58 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 20:02:58 CST 2015]; root of context hierarchy
2015-04-02 20:02:58 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 20:02:59 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:02:59 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:02:59 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:02:59 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 20:02:59 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:03:00 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 20:03:00 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 20:03:00 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 20:03:00 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 20:03:00 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 20:03:01 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 20:03:01 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 20:03:01 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 20:03:01 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 20:03:02 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 20:03:02 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 20:03:02 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 20:03:02 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 20:03:02 INFO  DatabaseMetaData:120 - HHH000262: Table not found: DrinkRecord
2015-04-02 20:03:02 INFO  DatabaseMetaData:120 - HHH000262: Table not found: EatRecord
2015-04-02 20:03:02 INFO  DatabaseMetaData:120 - HHH000262: Table not found: WeixinUser
2015-04-02 20:03:02 INFO  DatabaseMetaData:120 - HHH000262: Table not found: DrinkRecord
2015-04-02 20:03:02 INFO  DatabaseMetaData:120 - HHH000262: Table not found: EatRecord
2015-04-02 20:03:02 INFO  DatabaseMetaData:120 - HHH000262: Table not found: WeixinUser
2015-04-02 20:03:03 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 20:03:03 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@e94480: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:03:03 INFO  InitService:40 - ================init===============
2015-04-02 20:03:03 INFO  InitService:40 - ================init===============
2015-04-02 20:03:04 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 5550 ms
2015-04-02 20:03:04 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 20:03:04 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:03:04 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:03:04 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 20:03:05 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:03:05 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:03:05 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:03:05 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1ce3aac: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@e94480
2015-04-02 20:03:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:03:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:03:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:03:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:03:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:03:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:03:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:03:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:03:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:03:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 20:03:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 20:03:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 20:03:05 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 20:03:05 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 20:03:05 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 948 ms
2015-04-02 20:04:29 INFO  DrinkRecordResource:99 - get history for openID: test1234,page : 1,date: 0
2015-04-02 20:04:29 INFO  DrinkRecordResource:99 - get history for openID: test1234,page : 1,date: 0
2015-04-02 20:04:29 INFO  DrinkRecordDaoImpl:78 - openID:test1234,2015-04-02
2015-04-02 20:04:29 INFO  DrinkRecordDaoImpl:78 - openID:test1234,2015-04-02
2015-04-02 20:04:29 INFO  DrinkRecordDaoImpl:79 - getHistoryList:0
2015-04-02 20:04:29 INFO  DrinkRecordDaoImpl:79 - getHistoryList:0
2015-04-02 20:04:29 INFO  DrinkRecordResource:108 - get history record size : 0
2015-04-02 20:04:29 INFO  DrinkRecordResource:108 - get history record size : 0
2015-04-02 20:15:52 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:03:04 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:15:52 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1ce3aac: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@e94480
2015-04-02 20:15:52 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 20:02:58 CST 2015]; root of context hierarchy
2015-04-02 20:15:52 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@e94480: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:15:52 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:16:02 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 20:16:02 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 20:16:02 CST 2015]; root of context hierarchy
2015-04-02 20:16:02 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 20:16:02 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:16:02 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:16:02 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:16:03 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 20:16:03 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:16:03 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 20:16:03 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 20:16:03 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 20:16:03 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 20:16:03 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 20:16:03 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 20:16:03 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 20:16:03 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 20:16:03 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 20:16:03 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 20:16:04 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 20:16:04 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 20:16:04 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 20:16:04 INFO  TableMetadata:65 - HHH000261: Table found: db20140701.drinkrecord
2015-04-02 20:16:04 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 20:16:04 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:16:04 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:16:04 INFO  TableMetadata:65 - HHH000261: Table found: db20140701.eatrecord
2015-04-02 20:16:04 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 20:16:04 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:16:04 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:16:04 INFO  TableMetadata:65 - HHH000261: Table found: db20140701.weixinuser
2015-04-02 20:16:04 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 20:16:04 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:16:04 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:16:04 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 20:16:04 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@17f92da: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:16:04 INFO  InitService:40 - ================init===============
2015-04-02 20:16:04 INFO  InitService:40 - ================init===============
2015-04-02 20:16:04 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 2209 ms
2015-04-02 20:16:05 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 20:16:05 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:16:05 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:16:05 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 20:16:05 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:16:05 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:16:05 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:16:05 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@17032da: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@17f92da
2015-04-02 20:16:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:16:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:16:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:16:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:16:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:16:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:16:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:16:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:16:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:16:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 20:16:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 20:16:05 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 20:16:05 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 20:16:05 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 20:16:06 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 594 ms
2015-04-02 20:16:06 INFO  DrinkRecordResource:99 - get history for openID: test1234,page : 1,date: 0
2015-04-02 20:16:06 INFO  DrinkRecordResource:99 - get history for openID: test1234,page : 1,date: 0
2015-04-02 20:16:06 INFO  DrinkRecordDaoImpl:78 - openID:test1234,2015-04-02
2015-04-02 20:16:06 INFO  DrinkRecordDaoImpl:78 - openID:test1234,2015-04-02
2015-04-02 20:16:06 INFO  DrinkRecordDaoImpl:79 - getHistoryList:0
2015-04-02 20:16:06 INFO  DrinkRecordDaoImpl:79 - getHistoryList:0
2015-04-02 20:16:06 INFO  DrinkRecordResource:108 - get history record size : 0
2015-04-02 20:16:06 INFO  DrinkRecordResource:108 - get history record size : 0
2015-04-02 20:35:04 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:16:05 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:35:04 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@17032da: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@17f92da
2015-04-02 20:35:04 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 20:16:02 CST 2015]; root of context hierarchy
2015-04-02 20:35:04 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@17f92da: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:35:04 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:35:13 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 20:35:13 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 20:35:13 CST 2015]; root of context hierarchy
2015-04-02 20:35:13 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 20:35:13 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:35:13 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:35:14 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:35:14 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 20:35:14 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:35:14 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 20:35:14 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 20:35:14 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 20:35:14 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 20:35:14 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 20:35:14 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 20:35:14 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 20:35:14 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 20:35:14 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 20:35:14 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 20:35:15 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 20:35:15 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 20:35:15 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 20:35:15 INFO  TableMetadata:65 - HHH000261: Table found: db20140701.drinkrecord
2015-04-02 20:35:15 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 20:35:15 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:35:15 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:35:15 INFO  TableMetadata:65 - HHH000261: Table found: db20140701.eatrecord
2015-04-02 20:35:15 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 20:35:15 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:35:15 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:35:15 INFO  TableMetadata:65 - HHH000261: Table found: db20140701.weixinuser
2015-04-02 20:35:15 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 20:35:15 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:35:15 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:35:15 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 20:35:15 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@140b47a: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:35:15 INFO  InitService:40 - ================init===============
2015-04-02 20:35:15 INFO  InitService:40 - ================init===============
2015-04-02 20:35:15 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 2196 ms
2015-04-02 20:35:16 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 20:35:16 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:35:16 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:35:16 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 20:35:16 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:35:16 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:35:16 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:35:16 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1354684: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@140b47a
2015-04-02 20:35:16 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:35:16 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:35:16 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:35:16 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:35:16 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:35:16 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:35:16 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:35:16 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:35:16 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:35:16 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 20:35:16 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 20:35:16 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 20:35:17 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 20:35:17 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 20:35:17 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 687 ms
2015-04-02 20:35:58 INFO  DrinkRecordResource:100 - get history for openID: test1234,page : 1,date: 0
2015-04-02 20:35:58 INFO  DrinkRecordResource:100 - get history for openID: test1234,page : 1,date: 0
2015-04-02 20:35:58 INFO  DrinkRecordDaoImpl:79 - openID:test1234,2015-04-02
2015-04-02 20:35:58 INFO  DrinkRecordDaoImpl:79 - openID:test1234,2015-04-02
2015-04-02 20:35:58 INFO  DrinkRecordDaoImpl:80 - getHistoryList:0
2015-04-02 20:35:58 INFO  DrinkRecordDaoImpl:80 - getHistoryList:0
2015-04-02 20:35:58 INFO  DrinkRecordResource:109 - get history record size : 0
2015-04-02 20:35:58 INFO  DrinkRecordResource:109 - get history record size : 0
2015-04-02 20:40:45 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:35:16 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:40:45 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1354684: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@140b47a
2015-04-02 20:40:45 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 20:35:13 CST 2015]; root of context hierarchy
2015-04-02 20:40:45 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@140b47a: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:40:45 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:40:55 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 20:40:55 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 20:40:55 CST 2015]; root of context hierarchy
2015-04-02 20:40:55 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 20:40:56 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:40:56 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:40:56 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:40:56 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 20:40:56 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:40:56 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 20:40:56 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 20:40:56 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 20:40:56 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 20:40:56 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 20:40:56 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 20:40:57 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 20:40:57 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 20:40:57 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 20:40:57 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 20:40:57 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 20:40:57 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 20:40:57 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 20:40:57 INFO  TableMetadata:65 - HHH000261: Table found: db20140701.drinkrecord
2015-04-02 20:40:57 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 20:40:57 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:40:57 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:40:57 INFO  TableMetadata:65 - HHH000261: Table found: db20140701.eatrecord
2015-04-02 20:40:57 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 20:40:57 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:40:57 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:40:57 INFO  TableMetadata:65 - HHH000261: Table found: db20140701.weixinuser
2015-04-02 20:40:57 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 20:40:57 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:40:57 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:40:57 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 20:40:57 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@8d59f1: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:40:57 INFO  InitService:40 - ================init===============
2015-04-02 20:40:57 INFO  InitService:40 - ================init===============
2015-04-02 20:40:57 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 2191 ms
2015-04-02 20:40:58 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 20:40:58 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:40:58 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:40:58 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 20:40:58 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:40:58 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:40:58 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:40:58 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@5330b5: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@8d59f1
2015-04-02 20:40:59 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:40:59 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:40:59 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:40:59 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:40:59 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:40:59 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:40:59 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:40:59 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:40:59 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:40:59 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 20:40:59 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 20:40:59 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 20:40:59 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 20:40:59 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 20:40:59 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 461 ms
2015-04-02 20:41:00 WARN  SqlExceptionHelper:143 - SQL Error: 1146, SQLState: 42S02
2015-04-02 20:41:00 ERROR SqlExceptionHelper:144 - Table 'db20140701.reba_tbl_appuser' doesn't exist
2015-04-02 20:41:39 INFO  DrinkRecordDaoImpl:125 - AppUser size:0
2015-04-02 20:41:39 INFO  DrinkRecordDaoImpl:125 - AppUser size:0
2015-04-02 20:41:40 INFO  DrinkRecordDaoImpl:125 - AppUser size:0
2015-04-02 20:41:40 INFO  DrinkRecordDaoImpl:125 - AppUser size:0
2015-04-02 20:41:40 INFO  DrinkRecordDaoImpl:125 - AppUser size:0
2015-04-02 20:41:40 INFO  DrinkRecordDaoImpl:125 - AppUser size:0
2015-04-02 20:43:07 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:40:58 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:43:07 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@5330b5: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@8d59f1
2015-04-02 20:43:07 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 20:40:55 CST 2015]; root of context hierarchy
2015-04-02 20:43:07 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@8d59f1: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:43:07 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:43:16 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 20:43:16 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 20:43:16 CST 2015]; root of context hierarchy
2015-04-02 20:43:16 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 20:43:16 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:43:16 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:43:16 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:43:16 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 20:43:16 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:43:17 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 20:43:17 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 20:43:17 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 20:43:17 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 20:43:17 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 20:43:17 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 20:43:17 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 20:43:17 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 20:43:17 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 20:43:17 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 20:43:17 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 20:43:17 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 20:43:17 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 20:43:17 INFO  DatabaseMetaData:120 - HHH000262: Table not found: DrinkRecord
2015-04-02 20:43:17 INFO  DatabaseMetaData:120 - HHH000262: Table not found: EatRecord
2015-04-02 20:43:17 INFO  DatabaseMetaData:120 - HHH000262: Table not found: WeixinUser
2015-04-02 20:43:17 INFO  DatabaseMetaData:120 - HHH000262: Table not found: DrinkRecord
2015-04-02 20:43:17 INFO  DatabaseMetaData:120 - HHH000262: Table not found: EatRecord
2015-04-02 20:43:17 INFO  DatabaseMetaData:120 - HHH000262: Table not found: WeixinUser
2015-04-02 20:43:18 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 20:43:18 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@faddb2: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:43:18 INFO  InitService:40 - ================init===============
2015-04-02 20:43:18 INFO  InitService:40 - ================init===============
2015-04-02 20:43:18 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 2138 ms
2015-04-02 20:43:19 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 20:43:19 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:43:19 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:43:19 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 20:43:19 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:43:19 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:43:19 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:43:19 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@11459e9: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@faddb2
2015-04-02 20:43:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:43:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:43:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:43:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:43:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:43:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:43:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:43:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:43:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:43:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 20:43:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 20:43:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 20:43:19 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 20:43:19 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 20:43:19 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 661 ms
2015-04-02 20:43:24 INFO  DrinkRecordDaoImpl:125 - AppUser size:0
2015-04-02 20:43:24 INFO  DrinkRecordDaoImpl:125 - AppUser size:0
2015-04-02 20:44:02 INFO  DrinkRecordDaoImpl:125 - AppUser size:1
2015-04-02 20:44:02 INFO  DrinkRecordDaoImpl:125 - AppUser size:1
2015-04-02 20:53:33 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:43:19 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:53:33 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@11459e9: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@faddb2
2015-04-02 20:53:34 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 20:43:16 CST 2015]; root of context hierarchy
2015-04-02 20:53:34 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@faddb2: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:53:34 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:53:43 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 20:53:43 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 20:53:43 CST 2015]; root of context hierarchy
2015-04-02 20:53:43 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 20:53:43 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:53:43 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:53:43 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:53:44 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 20:53:44 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:53:44 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 20:53:44 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 20:53:44 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 20:53:44 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 20:53:44 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 20:53:44 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 20:53:44 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 20:53:44 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 20:53:44 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 20:53:44 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 20:53:45 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 20:53:45 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 20:53:45 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 20:53:45 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 20:53:45 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 20:53:45 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:53:45 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:53:45 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 20:53:45 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 20:53:45 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:53:45 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:53:45 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 20:53:45 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 20:53:45 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:53:45 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:53:45 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 20:53:45 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1bdc7db: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:53:45 INFO  InitService:40 - ================init===============
2015-04-02 20:53:45 INFO  InitService:40 - ================init===============
2015-04-02 20:53:45 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 2009 ms
2015-04-02 20:53:46 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 20:53:46 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:53:46 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:53:46 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 20:53:46 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:53:46 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:53:46 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:53:46 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1f81e2d: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@1bdc7db
2015-04-02 20:53:46 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:53:46 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:53:46 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:53:46 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:53:46 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:53:46 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:53:46 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:53:46 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:53:46 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:53:46 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 20:53:46 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 20:53:46 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 20:53:46 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 20:53:46 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 20:53:46 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 524 ms
2015-04-02 20:54:49 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:53:46 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:54:49 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1f81e2d: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@1bdc7db
2015-04-02 20:54:49 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 20:53:43 CST 2015]; root of context hierarchy
2015-04-02 20:54:49 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1bdc7db: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:54:49 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:54:58 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 20:54:58 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 20:54:58 CST 2015]; root of context hierarchy
2015-04-02 20:54:58 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 20:54:58 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:54:58 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:54:58 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:54:58 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 20:54:58 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:54:58 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 20:54:58 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 20:54:58 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 20:54:58 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 20:54:58 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 20:54:59 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 20:54:59 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 20:54:59 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 20:54:59 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 20:54:59 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 20:54:59 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 20:54:59 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 20:54:59 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 20:54:59 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 20:54:59 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 20:54:59 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:54:59 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:54:59 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 20:54:59 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 20:54:59 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:54:59 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:54:59 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 20:54:59 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 20:54:59 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:54:59 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:54:59 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 20:54:59 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@cd6d94: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:54:59 INFO  InitService:40 - ================init===============
2015-04-02 20:54:59 INFO  InitService:40 - ================init===============
2015-04-02 20:55:00 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 2054 ms
2015-04-02 20:55:00 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 20:55:00 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:55:00 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:55:00 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 20:55:00 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:55:00 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:55:00 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:55:00 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@867b6b: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@cd6d94
2015-04-02 20:55:00 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:55:00 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:55:00 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:55:00 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:55:00 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:55:00 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:55:00 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:55:00 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:55:00 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:55:00 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 20:55:00 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 20:55:00 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 20:55:01 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 20:55:01 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 20:55:01 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 579 ms
2015-04-02 20:55:16 INFO  DrinkRecordDaoImpl:124 - AppUser size:1
2015-04-02 20:55:16 INFO  DrinkRecordDaoImpl:124 - AppUser size:1
2015-04-02 20:56:51 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:55:00 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:56:51 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@867b6b: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@cd6d94
2015-04-02 20:56:51 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 20:54:58 CST 2015]; root of context hierarchy
2015-04-02 20:56:51 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@cd6d94: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:56:51 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:56:59 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 20:56:59 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 20:56:59 CST 2015]; root of context hierarchy
2015-04-02 20:56:59 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 20:56:59 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:56:59 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:57:00 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:57:00 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 20:57:00 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:57:00 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 20:57:00 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 20:57:00 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 20:57:00 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 20:57:00 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 20:57:00 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 20:57:00 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 20:57:00 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 20:57:00 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 20:57:00 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 20:57:01 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 20:57:01 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 20:57:01 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 20:57:01 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 20:57:01 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 20:57:01 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:57:01 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:57:01 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 20:57:01 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 20:57:01 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:57:01 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:57:01 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 20:57:01 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 20:57:01 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:57:01 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:57:01 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 20:57:01 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@c07f58: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:57:01 INFO  InitService:40 - ================init===============
2015-04-02 20:57:01 INFO  InitService:40 - ================init===============
2015-04-02 20:57:01 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 1948 ms
2015-04-02 20:57:02 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 20:57:02 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:57:02 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:57:02 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 20:57:02 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:57:02 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:57:02 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:57:02 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1d83099: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@c07f58
2015-04-02 20:57:02 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:57:02 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:57:02 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:57:02 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:57:02 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:57:02 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:57:02 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:57:02 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:57:02 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:57:02 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 20:57:02 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 20:57:02 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 20:57:02 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 20:57:02 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 20:57:02 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 448 ms
2015-04-02 20:57:03 INFO  DrinkRecordDaoImpl:134 - AppUser size:1
2015-04-02 20:57:03 INFO  DrinkRecordDaoImpl:134 - AppUser size:1
2015-04-02 20:59:31 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:57:02 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:59:31 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1d83099: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@c07f58
2015-04-02 20:59:31 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 20:56:59 CST 2015]; root of context hierarchy
2015-04-02 20:59:31 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@c07f58: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:59:31 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:59:39 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 20:59:39 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 20:59:39 CST 2015]; root of context hierarchy
2015-04-02 20:59:39 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 20:59:40 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:59:40 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:59:40 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:59:40 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 20:59:40 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 20:59:40 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 20:59:40 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 20:59:40 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 20:59:40 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 20:59:40 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 20:59:40 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 20:59:40 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 20:59:40 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 20:59:40 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 20:59:40 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 20:59:41 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 20:59:41 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 20:59:41 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 20:59:41 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 20:59:41 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 20:59:41 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:59:41 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:59:41 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 20:59:41 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 20:59:41 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:59:41 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:59:41 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 20:59:41 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 20:59:41 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 20:59:41 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 20:59:41 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 20:59:41 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@eebafe: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 20:59:41 INFO  InitService:40 - ================init===============
2015-04-02 20:59:41 INFO  InitService:40 - ================init===============
2015-04-02 20:59:41 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 1934 ms
2015-04-02 20:59:42 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 20:59:42 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:59:42 CST 2015]; parent: Root WebApplicationContext
2015-04-02 20:59:42 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 20:59:42 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 20:59:42 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 20:59:42 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 20:59:42 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@853a16: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@eebafe
2015-04-02 20:59:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:59:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:59:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:59:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:59:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:59:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:59:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 20:59:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:59:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 20:59:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 20:59:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 20:59:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 20:59:42 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 20:59:42 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 20:59:43 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 447 ms
2015-04-02 21:00:58 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 20:59:42 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:00:58 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@853a16: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@eebafe
2015-04-02 21:00:58 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 20:59:39 CST 2015]; root of context hierarchy
2015-04-02 21:00:58 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@eebafe: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:00:58 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:01:06 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 21:01:06 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 21:01:06 CST 2015]; root of context hierarchy
2015-04-02 21:01:06 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 21:01:06 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:01:06 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:01:06 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:01:06 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 21:01:06 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:01:06 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 21:01:06 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 21:01:06 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 21:01:06 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 21:01:06 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 21:01:07 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 21:01:07 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 21:01:07 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 21:01:07 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 21:01:07 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 21:01:07 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 21:01:07 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 21:01:07 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 21:01:07 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 21:01:07 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 21:01:07 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:01:07 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:01:07 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 21:01:07 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 21:01:07 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:01:07 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:01:07 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 21:01:07 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 21:01:07 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:01:07 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:01:07 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 21:01:07 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@9b9e76: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:01:07 INFO  InitService:40 - ================init===============
2015-04-02 21:01:07 INFO  InitService:40 - ================init===============
2015-04-02 21:01:08 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 2008 ms
2015-04-02 21:01:08 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 21:01:08 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:01:08 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:01:08 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 21:01:08 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:01:08 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:01:09 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:01:09 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@5ebdf7: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@9b9e76
2015-04-02 21:01:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:01:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:01:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:01:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:01:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:01:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:01:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:01:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:01:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:01:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 21:01:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 21:01:09 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 21:01:09 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 21:01:09 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 21:01:09 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 473 ms
2015-04-02 21:02:29 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:01:08 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:02:29 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@5ebdf7: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@9b9e76
2015-04-02 21:02:29 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 21:01:06 CST 2015]; root of context hierarchy
2015-04-02 21:02:29 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@9b9e76: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:02:29 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:02:37 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 21:02:37 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 21:02:37 CST 2015]; root of context hierarchy
2015-04-02 21:02:37 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 21:02:37 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:02:37 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:02:38 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:02:38 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 21:02:38 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:02:38 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 21:02:38 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 21:02:38 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 21:02:38 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 21:02:38 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 21:02:38 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 21:02:38 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 21:02:38 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 21:02:38 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 21:02:38 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 21:02:39 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 21:02:39 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 21:02:39 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 21:02:39 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 21:02:39 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 21:02:39 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:02:39 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:02:39 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 21:02:39 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 21:02:39 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:02:39 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:02:39 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 21:02:39 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 21:02:39 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:02:39 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:02:39 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 21:02:39 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@93f455: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:02:39 INFO  InitService:40 - ================init===============
2015-04-02 21:02:39 INFO  InitService:40 - ================init===============
2015-04-02 21:02:39 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 1900 ms
2015-04-02 21:02:40 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 21:02:40 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:02:40 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:02:40 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 21:02:40 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:02:40 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:02:40 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:02:40 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@4a0ea4: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@93f455
2015-04-02 21:02:40 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:02:40 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:02:40 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:02:40 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:02:40 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:02:40 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:02:40 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:02:40 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:02:40 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:02:40 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 21:02:40 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 21:02:40 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 21:02:40 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 21:02:40 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 21:02:40 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 437 ms
2015-04-02 21:02:44 INFO  DrinkRecordDaoImpl:122 - AppUser size:1
2015-04-02 21:02:44 INFO  DrinkRecordDaoImpl:122 - AppUser size:1
2015-04-02 21:03:08 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:02:40 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:03:08 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@4a0ea4: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@93f455
2015-04-02 21:03:08 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 21:02:37 CST 2015]; root of context hierarchy
2015-04-02 21:03:08 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@93f455: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:03:08 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:03:16 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 21:03:16 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 21:03:16 CST 2015]; root of context hierarchy
2015-04-02 21:03:16 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 21:03:16 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:03:16 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:03:17 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:03:17 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 21:03:17 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:03:17 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 21:03:17 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 21:03:17 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 21:03:17 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 21:03:17 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 21:03:17 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 21:03:17 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 21:03:17 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 21:03:17 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 21:03:17 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 21:03:18 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 21:03:18 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 21:03:18 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 21:03:18 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 21:03:18 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 21:03:18 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:03:18 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:03:18 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 21:03:18 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 21:03:18 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:03:18 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:03:18 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 21:03:18 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 21:03:18 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:03:18 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:03:18 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 21:03:18 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@884c0e: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:03:18 INFO  InitService:40 - ================init===============
2015-04-02 21:03:18 INFO  InitService:40 - ================init===============
2015-04-02 21:03:18 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 2071 ms
2015-04-02 21:03:19 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 21:03:19 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:03:19 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:03:19 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 21:03:19 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:03:19 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:03:19 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:03:19 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@12e22ed: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@884c0e
2015-04-02 21:03:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:03:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:03:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:03:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:03:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:03:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:03:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:03:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:03:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:03:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 21:03:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 21:03:19 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 21:03:20 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 21:03:20 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 21:03:20 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 598 ms
2015-04-02 21:04:00 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:03:19 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:04:00 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@12e22ed: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@884c0e
2015-04-02 21:04:00 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 21:03:16 CST 2015]; root of context hierarchy
2015-04-02 21:04:00 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@884c0e: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:04:00 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:04:09 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 21:04:09 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 21:04:09 CST 2015]; root of context hierarchy
2015-04-02 21:04:09 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 21:04:10 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:04:10 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:04:10 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:04:10 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 21:04:10 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:04:10 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 21:04:10 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 21:04:10 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 21:04:10 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 21:04:10 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 21:04:10 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 21:04:10 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 21:04:10 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 21:04:10 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 21:04:10 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 21:04:11 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 21:04:11 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 21:04:11 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 21:04:11 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 21:04:11 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 21:04:11 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:04:11 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:04:11 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 21:04:11 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 21:04:11 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:04:11 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:04:11 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 21:04:11 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 21:04:11 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:04:11 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:04:11 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 21:04:11 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@18efc0c: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:04:11 INFO  InitService:40 - ================init===============
2015-04-02 21:04:11 INFO  InitService:40 - ================init===============
2015-04-02 21:04:11 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 2039 ms
2015-04-02 21:04:12 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 21:04:12 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:04:12 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:04:12 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 21:04:12 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:04:12 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:04:12 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:04:12 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@b2aaa6: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@18efc0c
2015-04-02 21:04:12 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:04:12 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:04:12 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:04:12 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:04:12 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:04:12 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:04:12 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:04:12 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:04:12 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:04:12 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 21:04:12 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 21:04:12 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 21:04:13 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 21:04:13 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 21:04:13 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 599 ms
2015-04-02 21:04:13 INFO  DrinkRecordDaoImpl:122 - AppUser size:1
2015-04-02 21:04:13 INFO  DrinkRecordDaoImpl:122 - AppUser size:1
2015-04-02 21:04:46 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:04:46 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:04:55 INFO  DrinkRecordDaoImpl:142 - AppUser found:[Ljava.lang.Object;@15bf497
2015-04-02 21:04:55 INFO  DrinkRecordDaoImpl:142 - AppUser found:[Ljava.lang.Object;@15bf497
2015-04-02 21:07:00 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:04:12 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:07:00 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@b2aaa6: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@18efc0c
2015-04-02 21:07:00 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 21:04:09 CST 2015]; root of context hierarchy
2015-04-02 21:07:00 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@18efc0c: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:07:00 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:07:08 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 21:07:08 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 21:07:08 CST 2015]; root of context hierarchy
2015-04-02 21:07:08 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 21:07:08 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:07:08 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:07:08 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:07:08 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 21:07:09 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:07:09 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 21:07:09 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 21:07:09 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 21:07:09 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 21:07:09 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 21:07:09 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 21:07:09 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 21:07:09 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 21:07:09 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 21:07:09 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 21:07:09 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 21:07:09 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 21:07:09 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 21:07:09 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 21:07:09 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 21:07:09 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:07:09 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:07:09 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 21:07:09 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 21:07:09 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:07:09 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:07:09 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 21:07:09 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 21:07:09 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:07:09 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:07:09 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 21:07:10 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@3b70c: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:07:10 INFO  InitService:40 - ================init===============
2015-04-02 21:07:10 INFO  InitService:40 - ================init===============
2015-04-02 21:07:10 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 1918 ms
2015-04-02 21:07:11 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 21:07:11 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:07:11 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:07:11 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 21:07:11 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:07:11 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:07:11 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:07:11 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1cbb70: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@3b70c
2015-04-02 21:07:11 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:07:11 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:07:11 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:07:11 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:07:11 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:07:11 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:07:11 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:07:11 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:07:11 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:07:11 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 21:07:11 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 21:07:11 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 21:07:11 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 21:07:11 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 21:07:11 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 465 ms
2015-04-02 21:07:11 INFO  DrinkRecordDaoImpl:142 - AppUser found:[Ljava.lang.Object;@9b69e6
2015-04-02 21:07:11 INFO  DrinkRecordDaoImpl:142 - AppUser found:[Ljava.lang.Object;@9b69e6
2015-04-02 21:07:16 INFO  DrinkRecordDaoImpl:142 - AppUser found:[Ljava.lang.Object;@cf2994
2015-04-02 21:07:16 INFO  DrinkRecordDaoImpl:142 - AppUser found:[Ljava.lang.Object;@cf2994
2015-04-02 21:07:46 INFO  DrinkRecordDaoImpl:142 - AppUser found:[Ljava.lang.Object;@1f71a09
2015-04-02 21:07:46 INFO  DrinkRecordDaoImpl:142 - AppUser found:[Ljava.lang.Object;@1f71a09
2015-04-02 21:07:54 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:07:54 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:17:11 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:07:11 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:17:11 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1cbb70: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@3b70c
2015-04-02 21:17:11 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 21:07:08 CST 2015]; root of context hierarchy
2015-04-02 21:17:11 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@3b70c: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:17:11 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:17:20 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 21:17:20 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 21:17:20 CST 2015]; root of context hierarchy
2015-04-02 21:17:20 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 21:17:20 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:17:20 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:17:20 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:17:20 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 21:17:20 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:17:21 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 21:17:21 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 21:17:21 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 21:17:21 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 21:17:21 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 21:17:21 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 21:17:21 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 21:17:21 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 21:17:21 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 21:17:21 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 21:17:21 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 21:17:21 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 21:17:21 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 21:17:21 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 21:17:21 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 21:17:21 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:17:21 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:17:21 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 21:17:21 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 21:17:21 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:17:21 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:17:21 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 21:17:21 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 21:17:21 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:17:21 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:17:21 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 21:17:22 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1c29a26: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:17:22 INFO  InitService:40 - ================init===============
2015-04-02 21:17:22 INFO  InitService:40 - ================init===============
2015-04-02 21:17:22 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 1957 ms
2015-04-02 21:17:23 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 21:17:23 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:17:23 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:17:23 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 21:17:23 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:17:23 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:17:23 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:17:23 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1b1a4cc: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@1c29a26
2015-04-02 21:17:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:17:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:17:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:17:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:17:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:17:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:17:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:17:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:17:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:17:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 21:17:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 21:17:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 21:17:23 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 21:17:23 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 21:17:23 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 442 ms
2015-04-02 21:17:23 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:17:23 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:18:57 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:17:23 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:18:57 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1b1a4cc: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@1c29a26
2015-04-02 21:18:57 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 21:17:20 CST 2015]; root of context hierarchy
2015-04-02 21:18:57 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1c29a26: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:18:57 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:19:05 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 21:19:05 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 21:19:05 CST 2015]; root of context hierarchy
2015-04-02 21:19:05 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 21:19:05 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:19:05 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:19:05 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:19:06 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 21:19:06 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:19:06 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 21:19:06 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 21:19:06 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 21:19:06 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 21:19:06 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 21:19:06 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 21:19:06 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 21:19:06 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 21:19:06 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 21:19:06 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 21:19:07 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 21:19:07 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 21:19:07 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 21:19:07 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 21:19:07 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 21:19:07 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:19:07 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:19:07 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 21:19:07 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 21:19:07 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:19:07 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:19:07 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 21:19:07 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 21:19:07 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:19:07 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:19:07 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 21:19:07 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@8cac17: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:19:07 INFO  InitService:40 - ================init===============
2015-04-02 21:19:07 INFO  InitService:40 - ================init===============
2015-04-02 21:19:07 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 1952 ms
2015-04-02 21:19:08 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 21:19:08 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:19:08 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:19:08 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 21:19:08 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:19:08 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:19:08 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:19:08 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@14bfbf1: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@8cac17
2015-04-02 21:19:08 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:19:08 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:19:08 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:19:08 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:19:08 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:19:08 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:19:08 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:19:08 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:19:08 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:19:08 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 21:19:08 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 21:19:08 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 21:19:08 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 21:19:08 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 21:19:08 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 466 ms
2015-04-02 21:19:09 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:19:09 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:19:09 INFO  DrinkRecordDaoImpl:128 - a***typeclass java.lang.String
2015-04-02 21:19:09 INFO  DrinkRecordDaoImpl:128 - a***typeclass java.lang.String
2015-04-02 21:23:56 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:19:08 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:23:56 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@14bfbf1: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@8cac17
2015-04-02 21:23:56 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 21:19:05 CST 2015]; root of context hierarchy
2015-04-02 21:23:56 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@8cac17: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:23:56 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:24:04 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 21:24:04 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 21:24:04 CST 2015]; root of context hierarchy
2015-04-02 21:24:04 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 21:24:04 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:24:04 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:24:05 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:24:05 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 21:24:05 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:24:05 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 21:24:05 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 21:24:05 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 21:24:05 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 21:24:05 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 21:24:05 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 21:24:05 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 21:24:05 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 21:24:05 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 21:24:05 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 21:24:06 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 21:24:06 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 21:24:06 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 21:24:06 INFO  DatabaseMetaData:120 - HHH000262: Table not found: AppUser
2015-04-02 21:24:06 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 21:24:06 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 21:24:06 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:24:06 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:24:06 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 21:24:06 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 21:24:06 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:24:06 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:24:06 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 21:24:06 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 21:24:06 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:24:06 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:24:06 INFO  DatabaseMetaData:120 - HHH000262: Table not found: AppUser
2015-04-02 21:24:06 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 21:24:06 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@5c4833: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:24:06 INFO  InitService:40 - ================init===============
2015-04-02 21:24:06 INFO  InitService:40 - ================init===============
2015-04-02 21:24:06 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 2109 ms
2015-04-02 21:24:07 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 21:24:07 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:24:07 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:24:07 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 21:24:07 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:24:07 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:24:07 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:24:07 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@17f212b: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@5c4833
2015-04-02 21:24:07 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:24:07 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:24:07 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:24:07 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:24:07 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:24:07 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:24:07 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:24:07 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:24:07 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:24:07 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 21:24:07 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 21:24:07 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 21:24:07 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 21:24:07 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 21:24:08 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 588 ms
2015-04-02 21:24:08 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:24:08 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:24:26 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:24:07 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:24:26 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@17f212b: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@5c4833
2015-04-02 21:24:26 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 21:24:04 CST 2015]; root of context hierarchy
2015-04-02 21:24:26 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@5c4833: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:24:26 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:24:34 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 21:24:34 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 21:24:34 CST 2015]; root of context hierarchy
2015-04-02 21:24:34 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 21:24:34 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:24:34 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:24:34 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:24:35 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 21:24:35 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:24:35 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 21:24:35 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 21:24:35 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 21:24:35 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 21:24:35 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 21:24:35 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 21:24:35 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 21:24:35 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 21:24:35 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 21:24:35 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 21:24:35 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 21:24:35 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 21:24:35 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 21:24:36 INFO  TableMetadata:65 - HHH000261: Table found: test.appuser
2015-04-02 21:24:36 INFO  TableMetadata:66 - HHH000037: Columns: [fmenulist, fid, fstatus, fuser, fphone, fk3userid, fpassword]
2015-04-02 21:24:36 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:24:36 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:24:36 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 21:24:36 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 21:24:36 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:24:36 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:24:36 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 21:24:36 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 21:24:36 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:24:36 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:24:36 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 21:24:36 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 21:24:36 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:24:36 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:24:36 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 21:24:36 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@5c4833: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:24:36 INFO  InitService:40 - ================init===============
2015-04-02 21:24:36 INFO  InitService:40 - ================init===============
2015-04-02 21:24:36 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 1964 ms
2015-04-02 21:24:37 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 21:24:37 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:24:37 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:24:37 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 21:24:37 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:24:37 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:24:37 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:24:37 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@140d420: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@5c4833
2015-04-02 21:24:37 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:24:37 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:24:37 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:24:37 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:24:37 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:24:37 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:24:37 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:24:37 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:24:37 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:24:37 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 21:24:37 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 21:24:37 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 21:24:37 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 21:24:37 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 21:24:37 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 461 ms
2015-04-02 21:24:39 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:24:39 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:24:39 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@85d9a4
2015-04-02 21:24:39 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@85d9a4
2015-04-02 21:24:39 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@13541d7
2015-04-02 21:24:39 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@13541d7
2015-04-02 21:24:40 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:24:40 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:24:40 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@628999
2015-04-02 21:24:40 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@628999
2015-04-02 21:24:40 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@14defcc
2015-04-02 21:24:40 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@14defcc
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@1e18e8c
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@1e18e8c
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@155927f
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@155927f
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@c35868
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@c35868
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@e13409
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@e13409
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@d82990
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@d82990
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@16d3fde
2015-04-02 21:24:41 INFO  DrinkRecordDaoImpl:140 - ****user found****com.bigyellow.hm.entity.AppUser@16d3fde
2015-04-02 21:26:12 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:24:37 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:26:12 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@140d420: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@5c4833
2015-04-02 21:26:12 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 21:24:34 CST 2015]; root of context hierarchy
2015-04-02 21:26:12 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@5c4833: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:26:12 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:26:20 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 21:26:20 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 21:26:20 CST 2015]; root of context hierarchy
2015-04-02 21:26:20 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 21:26:20 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:26:20 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:26:21 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:26:21 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 21:26:21 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 21:26:21 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 21:26:21 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 21:26:21 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 21:26:21 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 21:26:21 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 21:26:21 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 21:26:21 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 21:26:21 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 21:26:21 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 21:26:21 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 21:26:22 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 21:26:22 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 21:26:22 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 21:26:22 INFO  TableMetadata:65 - HHH000261: Table found: test.appuser
2015-04-02 21:26:22 INFO  TableMetadata:66 - HHH000037: Columns: [fmenulist, fid, fstatus, fuser, fphone, fk3userid, fpassword]
2015-04-02 21:26:22 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:26:22 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:26:22 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 21:26:22 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 21:26:22 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:26:22 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:26:22 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 21:26:22 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 21:26:22 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:26:22 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:26:22 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 21:26:22 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 21:26:22 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 21:26:22 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 21:26:22 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 21:26:22 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@27e571: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 21:26:22 INFO  InitService:40 - ================init===============
2015-04-02 21:26:22 INFO  InitService:40 - ================init===============
2015-04-02 21:26:22 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 2079 ms
2015-04-02 21:26:23 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 21:26:23 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:26:23 CST 2015]; parent: Root WebApplicationContext
2015-04-02 21:26:23 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 21:26:23 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 21:26:23 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 21:26:23 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 21:26:23 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@723592: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@27e571
2015-04-02 21:26:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:26:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:26:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:26:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:26:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:26:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:26:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 21:26:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:26:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 21:26:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 21:26:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 21:26:23 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 21:26:24 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 21:26:24 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 21:26:24 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 600 ms
2015-04-02 21:26:24 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:26:24 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:26:24 INFO  DrinkRecordDaoImpl:124 - ****user found****com.bigyellow.hm.entity.AppUser@193c227
2015-04-02 21:26:24 INFO  DrinkRecordDaoImpl:124 - ****user found****com.bigyellow.hm.entity.AppUser@193c227
2015-04-02 21:26:24 INFO  DrinkRecordDaoImpl:124 - ****user found****com.bigyellow.hm.entity.AppUser@175cb80
2015-04-02 21:26:24 INFO  DrinkRecordDaoImpl:124 - ****user found****com.bigyellow.hm.entity.AppUser@175cb80
2015-04-02 21:26:25 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:26:25 INFO  DrinkRecordDaoImpl:122 - AppUser size:2
2015-04-02 21:26:25 INFO  DrinkRecordDaoImpl:124 - ****user found****com.bigyellow.hm.entity.AppUser@1a0ad
2015-04-02 21:26:25 INFO  DrinkRecordDaoImpl:124 - ****user found****com.bigyellow.hm.entity.AppUser@1a0ad
2015-04-02 21:26:25 INFO  DrinkRecordDaoImpl:124 - ****user found****com.bigyellow.hm.entity.AppUser@4c47b5
2015-04-02 21:26:25 INFO  DrinkRecordDaoImpl:124 - ****user found****com.bigyellow.hm.entity.AppUser@4c47b5
2015-04-02 22:14:04 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 21:26:23 CST 2015]; parent: Root WebApplicationContext
2015-04-02 22:14:04 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@723592: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@27e571
2015-04-02 22:14:04 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 21:26:20 CST 2015]; root of context hierarchy
2015-04-02 22:14:04 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@27e571: defining beans [DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 22:14:04 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 22:14:54 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 22:14:54 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 22:14:54 CST 2015]; root of context hierarchy
2015-04-02 22:14:54 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 22:14:54 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 22:14:54 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 22:14:54 ERROR ContextLoader:319 - Context initialization failed
org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from ServletContext resource [/WEB-INF/applicationContext.xml]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'DrinkRecordDaoImpl' for bean class [com.bigyellow.hm.dao.DrinkRecordDaoImpl] conflicts with existing, non-compatible bean definition of same name and class [com.bigyellow.hm.dao.AppUserDaoImpl]
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:412)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)
	at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)
	at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)
	at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)
	at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:537)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:451)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'DrinkRecordDaoImpl' for bean class [com.bigyellow.hm.dao.DrinkRecordDaoImpl] conflicts with existing, non-compatible bean definition of same name and class [com.bigyellow.hm.dao.AppUserDaoImpl]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:312)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:253)
	at org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:84)
	at org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:73)
	at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1438)
	at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1428)
	at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:185)
	at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:139)
	at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:108)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:493)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)
	... 23 more
2015-04-02 22:14:54 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 22:14:54 CST 2015]; root of context hierarchy
2015-04-02 22:14:54 WARN  XmlWebApplicationContext:1052 - Exception thrown from ApplicationListener handling ContextClosedEvent
java.lang.IllegalStateException: ApplicationEventMulticaster not initialized - call 'refresh' before multicasting events via the context: Root WebApplicationContext: startup date [Thu Apr 02 22:14:54 CST 2015]; root of context hierarchy
	at org.springframework.context.support.AbstractApplicationContext.getApplicationEventMulticaster(AbstractApplicationContext.java:347)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:334)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1049)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1010)
	at org.springframework.web.context.ContextLoader.closeWebApplicationContext(ContextLoader.java:559)
	at org.springframework.web.context.ContextLoaderListener.contextDestroyed(ContextLoaderListener.java:143)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4831)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5478)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:160)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
2015-04-02 22:14:54 WARN  XmlWebApplicationContext:1060 - Exception thrown from LifecycleProcessor on context close
java.lang.IllegalStateException: LifecycleProcessor not initialized - call 'refresh' before invoking lifecycle methods via the context: Root WebApplicationContext: startup date [Thu Apr 02 22:14:54 CST 2015]; root of context hierarchy
	at org.springframework.context.support.AbstractApplicationContext.getLifecycleProcessor(AbstractApplicationContext.java:360)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1057)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1010)
	at org.springframework.web.context.ContextLoader.closeWebApplicationContext(ContextLoader.java:559)
	at org.springframework.web.context.ContextLoaderListener.contextDestroyed(ContextLoaderListener.java:143)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4831)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5478)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:160)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
2015-04-02 22:19:25 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 22:19:25 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 22:19:25 CST 2015]; root of context hierarchy
2015-04-02 22:19:25 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 22:19:25 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 22:19:25 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 22:19:26 ERROR ContextLoader:319 - Context initialization failed
org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from ServletContext resource [/WEB-INF/applicationContext.xml]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'DrinkRecordDaoImpl' for bean class [com.bigyellow.hm.dao.DrinkRecordDaoImpl] conflicts with existing, non-compatible bean definition of same name and class [com.bigyellow.hm.dao.AppUserDaoImpl]
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:412)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)
	at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)
	at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)
	at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)
	at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:537)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:451)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4791)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5285)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'DrinkRecordDaoImpl' for bean class [com.bigyellow.hm.dao.DrinkRecordDaoImpl] conflicts with existing, non-compatible bean definition of same name and class [com.bigyellow.hm.dao.AppUserDaoImpl]
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:312)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:253)
	at org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:84)
	at org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:73)
	at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1438)
	at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1428)
	at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:185)
	at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:139)
	at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:108)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:493)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)
	... 23 more
2015-04-02 22:19:26 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 22:19:25 CST 2015]; root of context hierarchy
2015-04-02 22:19:26 WARN  XmlWebApplicationContext:1052 - Exception thrown from ApplicationListener handling ContextClosedEvent
java.lang.IllegalStateException: ApplicationEventMulticaster not initialized - call 'refresh' before multicasting events via the context: Root WebApplicationContext: startup date [Thu Apr 02 22:19:25 CST 2015]; root of context hierarchy
	at org.springframework.context.support.AbstractApplicationContext.getApplicationEventMulticaster(AbstractApplicationContext.java:347)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:334)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1049)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1010)
	at org.springframework.web.context.ContextLoader.closeWebApplicationContext(ContextLoader.java:559)
	at org.springframework.web.context.ContextLoaderListener.contextDestroyed(ContextLoaderListener.java:143)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4831)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5478)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:160)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
2015-04-02 22:19:26 WARN  XmlWebApplicationContext:1060 - Exception thrown from LifecycleProcessor on context close
java.lang.IllegalStateException: LifecycleProcessor not initialized - call 'refresh' before invoking lifecycle methods via the context: Root WebApplicationContext: startup date [Thu Apr 02 22:19:25 CST 2015]; root of context hierarchy
	at org.springframework.context.support.AbstractApplicationContext.getLifecycleProcessor(AbstractApplicationContext.java:360)
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1057)
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1010)
	at org.springframework.web.context.ContextLoader.closeWebApplicationContext(ContextLoader.java:559)
	at org.springframework.web.context.ContextLoaderListener.contextDestroyed(ContextLoaderListener.java:143)
	at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4831)
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5478)
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:160)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)
	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)
	at java.util.concurrent.FutureTask.run(FutureTask.java:138)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)
	at java.lang.Thread.run(Thread.java:662)
2015-04-02 22:21:39 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 22:21:40 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 22:21:40 CST 2015]; root of context hierarchy
2015-04-02 22:21:40 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 22:21:40 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 22:21:40 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 22:21:40 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 22:21:40 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 22:21:40 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 22:21:40 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 22:21:40 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 22:21:40 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 22:21:40 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 22:21:40 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 22:21:40 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 22:21:41 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 22:21:41 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 22:21:41 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 22:21:41 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 22:21:41 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 22:21:41 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 22:21:41 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 22:21:41 INFO  TableMetadata:65 - HHH000261: Table found: test.appuser
2015-04-02 22:21:41 INFO  TableMetadata:66 - HHH000037: Columns: [fmenulist, fid, fstatus, fuser, fphone, fk3userid, fpassword]
2015-04-02 22:21:41 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 22:21:41 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 22:21:41 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 22:21:41 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 22:21:41 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 22:21:41 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 22:21:41 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 22:21:41 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 22:21:41 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 22:21:41 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 22:21:41 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 22:21:41 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 22:21:41 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 22:21:41 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 22:21:41 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 22:21:41 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1b29017: defining beans [AppUserDaoImpl,DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 22:21:41 INFO  InitService:40 - ================init===============
2015-04-02 22:21:41 INFO  InitService:40 - ================init===============
2015-04-02 22:21:42 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 2049 ms
2015-04-02 22:21:42 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 22:21:42 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 22:21:42 CST 2015]; parent: Root WebApplicationContext
2015-04-02 22:21:42 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 22:21:42 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 22:21:42 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 22:21:42 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 22:21:42 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1132d7d: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@1b29017
2015-04-02 22:21:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 22:21:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 22:21:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 22:21:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 22:21:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 22:21:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 22:21:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 22:21:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 22:21:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 22:21:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 22:21:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 22:21:42 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 22:21:43 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 22:21:43 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 22:21:43 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 578 ms
2015-04-02 22:21:53 INFO  AppUserDaoImpl:30 - AppUser size:2
2015-04-02 22:21:53 INFO  AppUserDaoImpl:30 - AppUser size:2
2015-04-02 22:21:53 INFO  AppUserDaoImpl:32 - ****user found****com.bigyellow.hm.entity.AppUser@7e334
2015-04-02 22:21:53 INFO  AppUserDaoImpl:32 - ****user found****com.bigyellow.hm.entity.AppUser@7e334
2015-04-02 22:21:53 INFO  AppUserDaoImpl:32 - ****user found****com.bigyellow.hm.entity.AppUser@1d56e03
2015-04-02 22:21:53 INFO  AppUserDaoImpl:32 - ****user found****com.bigyellow.hm.entity.AppUser@1d56e03
2015-04-02 22:22:23 INFO  AppUserDaoImpl:30 - AppUser size:2
2015-04-02 22:22:23 INFO  AppUserDaoImpl:30 - AppUser size:2
2015-04-02 22:22:23 INFO  AppUserDaoImpl:32 - ****user found****com.bigyellow.hm.entity.AppUser@2c915f
2015-04-02 22:22:23 INFO  AppUserDaoImpl:32 - ****user found****com.bigyellow.hm.entity.AppUser@2c915f
2015-04-02 22:22:23 INFO  AppUserDaoImpl:32 - ****user found****com.bigyellow.hm.entity.AppUser@18ef2b6
2015-04-02 22:22:23 INFO  AppUserDaoImpl:32 - ****user found****com.bigyellow.hm.entity.AppUser@18ef2b6
2015-04-02 22:32:16 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 22:32:16 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 22:32:16 INFO  AppUserResource:78 - save to database : com.bigyellow.hm.entity.AppUser@1e418
2015-04-02 22:32:16 INFO  AppUserResource:78 - save to database : com.bigyellow.hm.entity.AppUser@1e418
2015-04-02 22:41:19 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 22:41:19 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 22:41:19 INFO  AppUserResource:78 - save to database : com.bigyellow.hm.entity.AppUser@1295ec9
2015-04-02 22:41:19 INFO  AppUserResource:78 - save to database : com.bigyellow.hm.entity.AppUser@1295ec9
2015-04-02 22:42:08 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 22:21:42 CST 2015]; parent: Root WebApplicationContext
2015-04-02 22:42:08 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1132d7d: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@1b29017
2015-04-02 22:42:08 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 22:21:40 CST 2015]; root of context hierarchy
2015-04-02 22:42:08 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1b29017: defining beans [AppUserDaoImpl,DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 22:42:08 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 22:42:17 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 22:42:17 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 22:42:17 CST 2015]; root of context hierarchy
2015-04-02 22:42:17 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 22:42:17 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 22:42:17 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 22:42:18 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 22:42:18 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 22:42:18 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 22:42:18 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 22:42:18 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 22:42:18 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 22:42:18 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 22:42:18 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 22:42:18 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 22:42:18 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 22:42:18 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 22:42:18 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 22:42:18 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 22:42:19 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 22:42:19 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 22:42:19 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 22:42:19 INFO  TableMetadata:65 - HHH000261: Table found: test.appuser
2015-04-02 22:42:19 INFO  TableMetadata:66 - HHH000037: Columns: [fmenulist, fid, fstatus, fuser, fphone, fk3userid, fpassword]
2015-04-02 22:42:19 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 22:42:19 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 22:42:19 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 22:42:19 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 22:42:19 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 22:42:19 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 22:42:19 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 22:42:19 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 22:42:19 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 22:42:19 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 22:42:19 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 22:42:19 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 22:42:19 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 22:42:19 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 22:42:19 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 22:42:19 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@62a404: defining beans [AppUserDaoImpl,DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 22:42:19 INFO  InitService:40 - ================init===============
2015-04-02 22:42:19 INFO  InitService:40 - ================init===============
2015-04-02 22:42:19 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 2018 ms
2015-04-02 22:42:20 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 22:42:20 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 22:42:20 CST 2015]; parent: Root WebApplicationContext
2015-04-02 22:42:20 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 22:42:20 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 22:42:20 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 22:42:20 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 22:42:20 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1e37e4a: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@62a404
2015-04-02 22:42:20 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 22:42:20 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 22:42:20 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 22:42:20 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 22:42:20 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 22:42:20 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 22:42:20 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 22:42:20 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 22:42:20 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 22:42:20 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 22:42:20 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 22:42:20 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 22:42:20 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 22:42:20 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 22:42:20 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 577 ms
2015-04-02 22:42:22 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 22:42:22 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 22:42:22 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@9ecdf5
2015-04-02 22:42:22 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@9ecdf5
2015-04-02 22:44:15 INFO  DrinkRecordResource:66 - drinkRecordAdd for openID: 111111, cup number : 2222, nickname : null
2015-04-02 22:44:15 INFO  DrinkRecordResource:66 - drinkRecordAdd for openID: 111111, cup number : 2222, nickname : null
2015-04-02 22:47:34 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 22:47:34 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 22:47:34 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@114ebf
2015-04-02 22:47:34 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@114ebf
2015-04-02 22:52:32 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 22:52:32 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 22:52:32 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@54e73f
2015-04-02 22:52:32 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@54e73f
2015-04-02 22:52:58 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 22:52:58 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 22:52:58 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@fe1192
2015-04-02 22:52:58 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@fe1192
2015-04-02 22:53:23 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 22:53:23 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 22:53:23 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@131650
2015-04-02 22:53:23 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@131650
2015-04-02 22:56:50 INFO  DrinkRecordResource:66 - drinkRecordAdd for openID: 111111, cup number : 2222, nickname : null
2015-04-02 22:56:50 INFO  DrinkRecordResource:66 - drinkRecordAdd for openID: 111111, cup number : 2222, nickname : null
2015-04-02 23:00:46 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 23:00:46 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 23:00:50 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@1477a84
2015-04-02 23:00:50 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@1477a84
2015-04-02 23:02:30 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 23:02:30 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 23:02:30 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@3b889b
2015-04-02 23:02:30 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@3b889b
2015-04-02 23:02:59 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 23:02:59 INFO  AppUserResource:72 - addAppUser for fuser: null, fphone : null
2015-04-02 23:02:59 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@1852afc
2015-04-02 23:02:59 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@1852afc
2015-04-02 23:06:21 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 22:42:20 CST 2015]; parent: Root WebApplicationContext
2015-04-02 23:06:21 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1e37e4a: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@62a404
2015-04-02 23:06:21 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 22:42:17 CST 2015]; root of context hierarchy
2015-04-02 23:06:21 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@62a404: defining beans [AppUserDaoImpl,DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 23:06:21 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 23:06:29 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 23:06:29 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 23:06:29 CST 2015]; root of context hierarchy
2015-04-02 23:06:29 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 23:06:30 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 23:06:30 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 23:06:30 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 23:06:30 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 23:06:30 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 23:06:30 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 23:06:30 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 23:06:30 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 23:06:30 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 23:06:30 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 23:06:30 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 23:06:30 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 23:06:30 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 23:06:30 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 23:06:30 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 23:06:31 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 23:06:31 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 23:06:31 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 23:06:31 INFO  TableMetadata:65 - HHH000261: Table found: test.appuser
2015-04-02 23:06:31 INFO  TableMetadata:66 - HHH000037: Columns: [fmenulist, fid, fstatus, fuser, fphone, fk3userid, fpassword]
2015-04-02 23:06:31 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 23:06:31 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 23:06:31 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 23:06:31 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 23:06:31 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 23:06:31 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 23:06:31 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 23:06:31 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 23:06:31 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 23:06:31 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 23:06:31 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 23:06:31 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 23:06:31 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 23:06:31 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 23:06:31 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 23:06:31 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1c506f7: defining beans [AppUserDaoImpl,DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 23:06:31 INFO  InitService:40 - ================init===============
2015-04-02 23:06:31 INFO  InitService:40 - ================init===============
2015-04-02 23:06:31 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 1983 ms
2015-04-02 23:06:32 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 23:06:32 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 23:06:32 CST 2015]; parent: Root WebApplicationContext
2015-04-02 23:06:32 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 23:06:32 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 23:06:32 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 23:06:32 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 23:06:32 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@595b6f: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@1c506f7
2015-04-02 23:06:32 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 23:06:32 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:06:32 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:06:32 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 23:06:32 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:06:32 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:06:32 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 23:06:32 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:06:32 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:06:32 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 23:06:32 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 23:06:32 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 23:06:33 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 23:06:33 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 23:06:33 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 488 ms
2015-04-02 23:06:34 INFO  AppUserResource:72 - addAppUser for fuser: simon, fphone : null
2015-04-02 23:06:34 INFO  AppUserResource:72 - addAppUser for fuser: simon, fphone : null
2015-04-02 23:06:34 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@510e91
2015-04-02 23:06:34 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@510e91
2015-04-02 23:06:52 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 23:06:32 CST 2015]; parent: Root WebApplicationContext
2015-04-02 23:06:52 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@595b6f: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@1c506f7
2015-04-02 23:06:52 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 23:06:29 CST 2015]; root of context hierarchy
2015-04-02 23:06:52 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1c506f7: defining beans [AppUserDaoImpl,DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 23:06:52 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 23:07:01 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 23:07:01 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 23:07:01 CST 2015]; root of context hierarchy
2015-04-02 23:07:01 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 23:07:01 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 23:07:01 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 23:07:01 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 23:07:01 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 23:07:01 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 23:07:01 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 23:07:01 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 23:07:01 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 23:07:01 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 23:07:01 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 23:07:02 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 23:07:02 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 23:07:02 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 23:07:02 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 23:07:02 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 23:07:02 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 23:07:02 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 23:07:02 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 23:07:02 INFO  TableMetadata:65 - HHH000261: Table found: test.appuser
2015-04-02 23:07:02 INFO  TableMetadata:66 - HHH000037: Columns: [fmenulist, fid, fstatus, fuser, fphone, fk3userid, fpassword]
2015-04-02 23:07:02 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 23:07:02 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 23:07:02 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 23:07:02 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 23:07:02 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 23:07:02 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 23:07:02 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 23:07:02 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 23:07:02 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 23:07:02 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 23:07:02 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 23:07:02 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 23:07:02 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 23:07:02 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 23:07:02 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 23:07:02 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@d13e2e: defining beans [AppUserDaoImpl,DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 23:07:02 INFO  InitService:40 - ================init===============
2015-04-02 23:07:02 INFO  InitService:40 - ================init===============
2015-04-02 23:07:03 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 2102 ms
2015-04-02 23:07:03 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 23:07:03 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 23:07:03 CST 2015]; parent: Root WebApplicationContext
2015-04-02 23:07:03 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 23:07:03 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 23:07:03 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 23:07:03 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 23:07:03 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1132d7d: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@d13e2e
2015-04-02 23:07:04 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 23:07:04 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:07:04 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:07:04 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 23:07:04 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:07:04 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:07:04 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 23:07:04 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:07:04 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:07:04 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 23:07:04 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 23:07:04 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 23:07:04 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 23:07:04 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 23:07:04 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 620 ms
2015-04-02 23:07:06 INFO  AppUserResource:72 - addAppUser for fuser: simon, fphone : null
2015-04-02 23:07:06 INFO  AppUserResource:72 - addAppUser for fuser: simon, fphone : null
2015-04-02 23:07:06 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@116ee8c
2015-04-02 23:07:06 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@116ee8c
2015-04-02 23:07:30 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 23:07:03 CST 2015]; parent: Root WebApplicationContext
2015-04-02 23:07:30 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1132d7d: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@d13e2e
2015-04-02 23:07:30 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 23:07:01 CST 2015]; root of context hierarchy
2015-04-02 23:07:30 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@d13e2e: defining beans [AppUserDaoImpl,DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 23:07:30 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 23:07:38 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 23:07:38 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 23:07:38 CST 2015]; root of context hierarchy
2015-04-02 23:07:38 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 23:07:38 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 23:07:38 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 23:07:38 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 23:07:38 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 23:07:38 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 23:07:39 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 23:07:39 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 23:07:39 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 23:07:39 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 23:07:39 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 23:07:39 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 23:07:39 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 23:07:39 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 23:07:39 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 23:07:39 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 23:07:39 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 23:07:39 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 23:07:39 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 23:07:39 INFO  TableMetadata:65 - HHH000261: Table found: test.appuser
2015-04-02 23:07:39 INFO  TableMetadata:66 - HHH000037: Columns: [fmenulist, fid, fstatus, fuser, fphone, fk3userid, fpassword]
2015-04-02 23:07:39 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 23:07:39 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 23:07:39 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 23:07:39 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 23:07:39 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 23:07:39 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 23:07:39 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 23:07:39 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 23:07:39 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 23:07:39 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 23:07:39 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 23:07:39 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 23:07:39 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 23:07:39 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 23:07:39 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 23:07:40 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1a5049a: defining beans [AppUserDaoImpl,DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 23:07:40 INFO  InitService:40 - ================init===============
2015-04-02 23:07:40 INFO  InitService:40 - ================init===============
2015-04-02 23:07:40 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 2093 ms
2015-04-02 23:07:41 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 23:07:41 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 23:07:41 CST 2015]; parent: Root WebApplicationContext
2015-04-02 23:07:41 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 23:07:41 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 23:07:41 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 23:07:41 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 23:07:41 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1f8dc89: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@1a5049a
2015-04-02 23:07:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 23:07:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:07:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:07:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 23:07:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:07:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:07:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 23:07:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:07:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:07:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 23:07:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 23:07:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 23:07:41 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 23:07:41 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 23:07:41 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 618 ms
2015-04-02 23:07:47 INFO  AppUserResource:72 - addAppUser for fuser: simon, fphone : null
2015-04-02 23:07:47 INFO  AppUserResource:72 - addAppUser for fuser: simon, fphone : null
2015-04-02 23:07:47 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@1c2921d
2015-04-02 23:07:47 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@1c2921d
2015-04-02 23:09:30 INFO  XmlWebApplicationContext:1042 - Closing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 23:07:41 CST 2015]; parent: Root WebApplicationContext
2015-04-02 23:09:30 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1f8dc89: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@1a5049a
2015-04-02 23:09:30 INFO  XmlWebApplicationContext:1042 - Closing Root WebApplicationContext: startup date [Thu Apr 02 23:07:38 CST 2015]; root of context hierarchy
2015-04-02 23:09:30 INFO  DefaultListableBeanFactory:444 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@1a5049a: defining beans [AppUserDaoImpl,DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 23:09:30 INFO  LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'ams'
2015-04-02 23:09:38 INFO  ContextLoader:273 - Root WebApplicationContext: initialization started
2015-04-02 23:09:38 INFO  XmlWebApplicationContext:510 - Refreshing Root WebApplicationContext: startup date [Thu Apr 02 23:09:38 CST 2015]; root of context hierarchy
2015-04-02 23:09:38 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]
2015-04-02 23:09:38 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 23:09:38 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 23:09:39 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 23:09:39 INFO  DriverManagerDataSource:153 - Loaded JDBC driver: org.mariadb.jdbc.Driver
2015-04-02 23:09:39 INFO  LocalContainerEntityManagerFactoryBean:285 - Building JPA container EntityManagerFactory for persistence unit 'ams'
2015-04-02 23:09:39 INFO  Version:37 - HCANN000001: Hibernate Commons Annotations {4.0.1.Final}
2015-04-02 23:09:39 INFO  Version:41 - HHH000412: Hibernate Core {4.1.0.Final}
2015-04-02 23:09:39 INFO  Environment:239 - HHH000206: hibernate.properties not found
2015-04-02 23:09:39 INFO  Environment:342 - HHH000021: Bytecode provider name : javassist
2015-04-02 23:09:39 INFO  Ejb3Configuration:526 - HHH000204: Processing PersistenceUnitInfo [
	name: ams
	...]
2015-04-02 23:09:39 INFO  ConnectionProviderInitiator:188 - HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
2015-04-02 23:09:39 INFO  Dialect:122 - HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2015-04-02 23:09:39 INFO  TransactionFactoryInitiator:73 - HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jdbc.JdbcTransactionFactory
2015-04-02 23:09:39 INFO  ASTQueryTranslatorFactory:48 - HHH000397: Using ASTQueryTranslatorFactory
2015-04-02 23:09:39 INFO  Version:27 - HV000001: Hibernate Validator 5.0.0.Final
2015-04-02 23:09:40 INFO  SchemaUpdate:182 - HHH000228: Running hbm2ddl schema update
2015-04-02 23:09:40 INFO  SchemaUpdate:193 - HHH000102: Fetching database metadata
2015-04-02 23:09:40 INFO  SchemaUpdate:205 - HHH000396: Updating schema
2015-04-02 23:09:40 INFO  TableMetadata:65 - HHH000261: Table found: test.appuser
2015-04-02 23:09:40 INFO  TableMetadata:66 - HHH000037: Columns: [fmenulist, fid, fstatus, fuser, fphone, fk3userid, fpassword]
2015-04-02 23:09:40 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 23:09:40 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 23:09:40 INFO  TableMetadata:65 - HHH000261: Table found: test.drinkrecord
2015-04-02 23:09:40 INFO  TableMetadata:66 - HHH000037: Columns: [uid, total, id, cupnumber, time, nickname, openid, recordtime, starlevel]
2015-04-02 23:09:40 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 23:09:40 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 23:09:40 INFO  TableMetadata:65 - HHH000261: Table found: test.eatrecord
2015-04-02 23:09:40 INFO  TableMetadata:66 - HHH000037: Columns: [uid, id, time, fruit, beanproduct, nickname, milk, openid, vegetable, recordtime, egg, starlevel]
2015-04-02 23:09:40 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 23:09:40 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 23:09:40 INFO  TableMetadata:65 - HHH000261: Table found: test.weixinuser
2015-04-02 23:09:40 INFO  TableMetadata:66 - HHH000037: Columns: [id, nickname, openid]
2015-04-02 23:09:40 INFO  TableMetadata:68 - HHH000108: Foreign keys: []
2015-04-02 23:09:40 INFO  TableMetadata:69 - HHH000126: Indexes: [primary]
2015-04-02 23:09:40 INFO  SchemaUpdate:240 - HHH000232: Schema update complete
2015-04-02 23:09:40 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@ab23aa: defining beans [AppUserDaoImpl,DrinkRecordDaoImpl,EatRecordDaoImpl,WeixinUserDaoImpl,initService,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,transactionManager,entityManagerFactory,dataSource,validator,messageSource,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; root of factory hierarchy
2015-04-02 23:09:40 INFO  InitService:40 - ================init===============
2015-04-02 23:09:40 INFO  InitService:40 - ================init===============
2015-04-02 23:09:40 INFO  ContextLoader:313 - Root WebApplicationContext: initialization completed in 2083 ms
2015-04-02 23:09:41 INFO  DispatcherServlet:454 - FrameworkServlet 'spring': initialization started
2015-04-02 23:09:41 INFO  XmlWebApplicationContext:510 - Refreshing WebApplicationContext for namespace 'spring-servlet': startup date [Thu Apr 02 23:09:41 CST 2015]; parent: Root WebApplicationContext
2015-04-02 23:09:41 INFO  XmlBeanDefinitionReader:315 - Loading XML bean definitions from ServletContext resource [/WEB-INF/spring/webapp-config.xml]
2015-04-02 23:09:41 INFO  ClassPathBeanDefinitionScanner:231 - JSR-250 'javax.annotation.ManagedBean' found and supported for component scanning
2015-04-02 23:09:41 INFO  ClassPathBeanDefinitionScanner:239 - JSR-330 'javax.inject.Named' annotation found and supported for component scanning
2015-04-02 23:09:41 INFO  AutowiredAnnotationBeanPostProcessor:140 - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2015-04-02 23:09:41 INFO  DefaultListableBeanFactory:596 - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@f6c25: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0,org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1,org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#1,eatController,eatOAuthController,homeController,indexController,layoutController,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@ab23aa
2015-04-02 23:09:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eathome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.getLoginPage(java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 23:09:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:09:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:09:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthhome],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.getLoginPage(java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 23:09:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eattestauthorize/{srcOpenID}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.authorization(java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:09:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/eatauthtoday],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.EatOAuthController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:09:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/home],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.getLoginPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.web.servlet.mvc.support.RedirectAttributes)
2015-04-02 23:09:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/today],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toTodayPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:09:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.postToHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model,javax.servlet.http.HttpServletRequest)
2015-04-02 23:09:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/history],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.HomeController.toHistoryPage(java.lang.String,java.lang.String,java.lang.String,org.springframework.ui.Model)
2015-04-02 23:09:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/index],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.IndexController.getIndexPage()
2015-04-02 23:09:41 INFO  RequestMappingHandlerMapping:179 - Mapped "{[/layout],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.String com.bigyellow.hm.web.LayoutController.getLayoutPage()
2015-04-02 23:09:41 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/resources/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
2015-04-02 23:09:41 INFO  SimpleUrlHandlerMapping:315 - Mapped URL path [/html/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
2015-04-02 23:09:42 INFO  DispatcherServlet:473 - FrameworkServlet 'spring': initialization completed in 637 ms
2015-04-02 23:09:47 INFO  AppUserResource:72 - addAppUser for fuser: simon, fphone : null
2015-04-02 23:09:47 INFO  AppUserResource:72 - addAppUser for fuser: simon, fphone : null
2015-04-02 23:09:47 INFO  AppUserDaoImpl:30 - AppUser size:2
2015-04-02 23:09:47 INFO  AppUserDaoImpl:30 - AppUser size:2
2015-04-02 23:09:47 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@1271f41
2015-04-02 23:09:47 INFO  AppUserResource:79 - save to database : com.bigyellow.hm.entity.AppUser@1271f41
2015-04-02 23:09:47 WARN  SqlExceptionHelper:143 - SQL Error: 1062, SQLState: 23000
2015-04-02 23:09:47 ERROR SqlExceptionHelper:144 - Duplicate entry '3' for key 'PRIMARY'
2015-04-02 23:09:47 INFO  AbstractBatchImpl:205 - HHH000010: On release of batch it still contained JDBC statements
2015-04-02 23:10:39 INFO  DrinkRecordResource:66 - drinkRecordAdd for openID: 111111, cup number : 2222, nickname : null
2015-04-02 23:10:39 INFO  DrinkRecordResource:66 - drinkRecordAdd for openID: 111111, cup number : 2222, nickname : null
2015-04-02 23:11:23 INFO  AppUserDaoImpl:30 - AppUser size:2
2015-04-02 23:11:23 INFO  AppUserDaoImpl:30 - AppUser size:2
2015-04-02 23:11:26 INFO  AppUserDaoImpl:30 - AppUser size:2
2015-04-02 23:11:26 INFO  AppUserDaoImpl:30 - AppUser size:2
2015-04-02 23:11:33 INFO  DrinkRecordResource:100 - get history for openID: test1234,page : 1,date: 0
2015-04-02 23:11:33 INFO  DrinkRecordResource:100 - get history for openID: test1234,page : 1,date: 0
2015-04-02 23:11:33 INFO  DrinkRecordDaoImpl:77 - openID:test1234,2015-04-02
2015-04-02 23:11:33 INFO  DrinkRecordDaoImpl:77 - openID:test1234,2015-04-02
2015-04-02 23:11:33 INFO  DrinkRecordDaoImpl:78 - getHistoryList:0
2015-04-02 23:11:33 INFO  DrinkRecordDaoImpl:78 - getHistoryList:0
2015-04-02 23:11:33 INFO  DrinkRecordResource:109 - get history record size : 0
2015-04-02 23:11:33 INFO  DrinkRecordResource:109 - get history record size : 0
